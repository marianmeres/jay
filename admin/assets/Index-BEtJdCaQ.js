import{S as F,i as O,s as B,C as _,o as d,b as u,p as h,a as f,t as $,d as p,q as g,a4 as N,Z as z,z as b,v,w as x,E as L,g as P,c as T,A as V,k as j,l as q,e as D,n as G,H as J}from"./index-78E-VoOI.js";import{p as M,H as U,s as w,c as W,J as E,S as Y,a as Z,b as K,B as S,d as k,e as A,R as C}from"./App-BIb8bTIk.js";import{c as Q}from"./index-D_vEyJyp.js";import{i as X}from"./iconFeatherTrash2-pC5ltAhM.js";import{F as ee,S as te}from"./SectionBox-B4hlmyVz.js";function y(i,s,a){const l=i.slice();return l[6]=s[a],l}function H(i){let s,a,l=A(i[0]),t=[];for(let r=0;r<l.length;r+=1)t[r]=I(y(i,l,r));const n=r=>$(t[r],1,1,()=>{t[r]=null});return{c(){s=b("ul");for(let r=0;r<t.length;r+=1)t[r].c();v(s,"class","mb-8")},m(r,o){u(r,s,o);for(let e=0;e<t.length;e+=1)t[e]&&t[e].m(s,null);a=!0},p(r,o){if(o&1){l=A(r[0]);let e;for(e=0;e<l.length;e+=1){const c=y(r,l,e);t[e]?(t[e].p(c,o),f(t[e],1)):(t[e]=I(c),t[e].c(),f(t[e],1),t[e].m(s,null))}for(P(),e=l.length;e<t.length;e+=1)n(e);T()}},i(r){if(!a){for(let o=0;o<l.length;o+=1)f(t[o]);a=!0}},o(r){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)$(t[o]);a=!1},d(r){r&&p(s),V(t,r)}}}function se(i){let s=i[6]+"",a;return{c(){a=j(s)},m(l,t){u(l,a,t)},p(l,t){t&1&&s!==(s=l[6]+"")&&q(a,s)},d(l){l&&p(a)}}}function le(i){let s,a=X({size:14})+"",l;return{c(){s=new J(!1),l=D(),s.a=l},m(t,n){s.m(a,t,n),u(t,l,n)},p:G,d(t){t&&(p(l),s.d())}}}function I(i){let s,a,l,t,n,r;a=new S({props:{href:C.SERVER.url(i[6]),class:"flex-1 text-ellipsis overflow-hidden",$$slots:{default:[se]},$$scope:{ctx:i}}});function o(){return i[3](i[6])}return t=new S({props:{size:"xs",variant:"flat naked",class:"px-2 bg-white/50 hover:bg-white/75",$$slots:{default:[le]},$$scope:{ctx:i}}}),t.$on("click",o),{c(){s=b("li"),d(a.$$.fragment),l=_(),d(t.$$.fragment),n=_(),v(s,"class","flex w-full space-x-2 mb-4")},m(e,c){u(e,s,c),h(a,s,null),x(s,l),h(t,s,null),x(s,n),r=!0},p(e,c){i=e;const m={};c&1&&(m.href=C.SERVER.url(i[6])),c&513&&(m.$$scope={dirty:c,ctx:i}),a.$set(m);const R={};c&512&&(R.$$scope={dirty:c,ctx:i}),t.$set(R)},i(e){r||(f(a.$$.fragment,e),f(t.$$.fragment,e),r=!0)},o(e){$(a.$$.fragment,e),$(t.$$.fragment,e),r=!1},d(e){e&&p(s),g(a),g(t)}}}function ae(i){let s;return{c(){s=j("Add a new server")},m(a,l){u(a,s,l)},d(a){a&&p(s)}}}function ne(i){var r;let s,a,l,t,n=((r=i[0])==null?void 0:r.length)&&H(i);return l=new S({props:{size:"sm",variant:"naked flat",class:"bg-white/50 hover:bg-white/75",$$slots:{default:[ae]},$$scope:{ctx:i}}}),l.$on("click",i[4]),{c(){n&&n.c(),s=_(),a=b("div"),d(l.$$.fragment),v(a,"class","flex justify-center")},m(o,e){n&&n.m(o,e),u(o,s,e),u(o,a,e),h(l,a,null),t=!0},p(o,e){var m;(m=o[0])!=null&&m.length?n?(n.p(o,e),e&1&&f(n,1)):(n=H(o),n.c(),f(n,1),n.m(s.parentNode,s)):n&&(P(),$(n,1,1,()=>{n=null}),T());const c={};e&512&&(c.$$scope={dirty:e,ctx:o}),l.$set(c)},i(o){t||(f(n),f(l.$$.fragment,o),t=!0)},o(o){$(n),$(l.$$.fragment,o),t=!1},d(o){o&&(p(s),p(a)),n&&n.d(o),g(l)}}}function re(i){let s,a,l,t,n,r,o;return s=new te({props:{class:U,title:"Choose a server",titleLevel:1,titleRenderLevel:3,titleClass:"text-center text-stuic-primary",$$slots:{default:[ne]},$$scope:{ctx:i}}}),{c(){d(s.$$.fragment),a=_(),l=b("div"),t=b("button"),t.textContent="What is this?",v(t,"class","opacity-75 link"),v(l,"class","p-2 px-4 w-full max-w-xl flex justify-end text-xs opacity-50")},m(e,c){h(s,e,c),u(e,a,c),u(e,l,c),x(l,t),n=!0,r||(o=L(t,"click",i[1]),r=!0)},p(e,c){const m={};c&513&&(m.$$scope={dirty:c,ctx:e}),s.$set(m)},i(e){n||(f(s.$$.fragment,e),n=!0)},o(e){$(s.$$.fragment,e),n=!1},d(e){e&&(p(a),p(l)),g(s,e),r=!1,o()}}}function oe(i){let s,a,l;return a=new ee({props:{$$slots:{default:[re]},$$scope:{ctx:i}}}),{c(){s=_(),d(a.$$.fragment),document.title="Select a server"},m(t,n){u(t,s,n),h(a,t,n),l=!0},p(t,[n]){const r={};n&513&&(r.$$scope={dirty:n,ctx:t}),a.$set(r)},i(t){l||(f(a.$$.fragment,t),l=!0)},o(t){$(a.$$.fragment,t),l=!1},d(t){t&&p(s),g(a,t)}}}function ie(i,s,a){let l;N(i,w,e=>a(0,l=e)),Q("Index");let{params:t}=s;z(M.resetHard);const n=()=>{var e;W(k)(`The official <a href="${E}" class="link" target="_blank">jay</a> client. 
			${Y("Need support?")}`,{title:`This is joy <span class="opacity-50 font-normal">(${(e=window==null?void 0:window.APP_CONFIG)==null?void 0:e.VERSION})</span>`})},r=async e=>{await Z(k)(`Server url <a href="${e}" target="_blank" 
									class="link font-semibold">${e}</a> 
									will be removed from the list.`,{title:"Are you sure?"})&&w.remove(e)},o=async()=>{const e=await K(k)(`Please provide a valid url of a 
						<a href="${E}" class="link" target="_blank">jay</a> 
						compatible server`,"http://localhost:6100/",{title:"Add a new server",promptFieldProps:{placeholder:"http://example.com",type:"url",required:!0}});e&&w.add(e)};return i.$$set=e=>{"params"in e&&a(2,t=e.params)},[l,n,t,r,o]}class $e extends F{constructor(s){super(),O(this,s,ie,oe,B,{params:2})}}export{$e as default};
