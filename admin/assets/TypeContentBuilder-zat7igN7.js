var Kt=Object.defineProperty;var qt=(n,e,t)=>e in n?Kt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var we=(n,e,t)=>(qt(n,typeof e!="symbol"?e+"":e,t),t);import{S as pe,i as Ce,s as ke,ab as At,z as D,C as A,v as C,X as tn,b as R,w as K,E as ne,M as Le,Q as He,a as k,g as Y,t as p,c as Q,d as T,r as on,T as Ue,o as H,D as F,p as V,q as P,I as _t,J as ln,U as X,e as oe,A as bt,W as ue,$ as Be,a0 as Me,K as _n,N as bn,O as mn,P as gn,a4 as Se,a9 as Ht,a6 as ie,k as We,H as Re,n as $,B as Ae,l as Xe,m as Bn,h as En,a5 as Vt,Z as In}from"./index-78E-VoOI.js";import{c as De}from"./index-B-B95Clr.js";import{Q as Pt,T as hn,t as te,U as kn,V as On,e as Ge,B as Pe,W as rn,X as mt,I as je,Y as Ye,Z as Wt,_ as Jt,a as gt,$ as Ft,a0 as Sn,a1 as Zt,N as sn,a2 as kt,a3 as vn,E as Rn,G as Tn,a4 as un,a5 as Gt,a6 as Ut,d as jn,f as Xt}from"./App--IjEP_X1.js";function Mn(n){let e,t,l;return t=new kn({props:{thc:n[2],forceAsHtml:!0}}),{c(){e=D("label"),H(t.$$.fragment),C(e,"for",n[16]),C(e,"class",n[12]),F(e,"cursor-pointer",!n[6]),F(e,"cursor-not-allowed",n[6])},m(i,s){R(i,e,s),V(t,e,null),l=!0},p(i,s){const o={};s[0]&4&&(o.thc=i[2]),t.$set(o),(!l||s[0]&4096)&&C(e,"class",i[12]),(!l||s[0]&4160)&&F(e,"cursor-pointer",!i[6]),(!l||s[0]&4160)&&F(e,"cursor-not-allowed",i[6])},i(i){l||(k(t.$$.fragment,i),l=!0)},o(i){p(t.$$.fragment,i),l=!1},d(i){i&&T(e),P(t)}}}function Ln(n){let e,t=n[9].message+"",l,i;return{c(){e=D("div"),C(e,"class",n[11])},m(s,o){R(s,e,o),e.innerHTML=t,i=!0},p(s,o){(!i||o[0]&512)&&t!==(t=s[9].message+"")&&(e.innerHTML=t),(!i||o[0]&2048)&&C(e,"class",s[11])},i(s){i||(s&&_t(()=>{i&&(l||(l=ln(e,On,{duration:150},!0)),l.run(1))}),i=!0)},o(s){s&&(l||(l=ln(e,On,{duration:150},!1)),l.run(0)),i=!1},d(s){s&&T(e),s&&l&&l.end()}}}function Dn(n){let e,t,l,i,s;return t=new kn({props:{thc:n[4],forceAsHtml:!0}}),{c(){e=D("div"),H(t.$$.fragment),C(e,"class",n[10]),F(e,"cursor-pointer",!n[6]),F(e,"cursor-not-allowed",n[6])},m(o,a){R(o,e,a),V(t,e,null),l=!0,i||(s=ne(e,"click",n[36]),i=!0)},p(o,a){const r={};a[0]&16&&(r.thc=o[4]),t.$set(r),(!l||a[0]&1024)&&C(e,"class",o[10]),(!l||a[0]&1088)&&F(e,"cursor-pointer",!o[6]),(!l||a[0]&1088)&&F(e,"cursor-not-allowed",o[6])},i(o){l||(k(t.$$.fragment,o),l=!0)},o(o){p(t.$$.fragment,o),l=!1},d(o){o&&T(e),P(t),i=!1,s()}}}function Yt(n){var E;let e,t,l,i=!1,s,o,a,r,u,f,c,v,d,g,_=n[2]&&Mn(n),b=n[9]&&!((E=n[9])!=null&&E.valid)&&Ln(n),h=n[4]&&Dn(n);return v=At(n[35][0]),{c(){e=D("div"),t=D("div"),l=D("input"),a=A(),r=D("div"),_&&_.c(),u=A(),b&&b.c(),f=A(),h&&h.c(),C(l,"id",n[16]),C(l,"type","radio"),l.__value=n[1],tn(l,l.__value),C(l,"aria-describedby",s=n[4]?n[17]:void 0),C(l,"name",n[3]),C(l,"class",n[13]),l.disabled=n[6],l.required=n[7],C(l,"tabindex",n[5]),C(t,"class","flex h-6 items-center ml-1"),C(r,"class","ml-3 w-full"),C(e,"class",n[14]),v.p(l)},m(w,O){R(w,e,O),K(e,t),K(t,l),l.checked=l.__value===n[0],K(e,a),K(e,r),_&&_.m(r,null),K(r,u),b&&b.m(r,null),K(r,f),h&&h.m(r,null),c=!0,d||(g=[ne(l,"change",n[34]),Le(o=Pt.call(null,l,n[8]?{...n[8]===!0?{}:n[8],setValidationResult:n[15]}:void 0)),ne(l,"blur",n[21]),ne(l,"change",n[22]),ne(l,"click",n[23]),ne(l,"focus",n[24]),ne(l,"input",n[25]),ne(l,"keydown",n[26]),ne(l,"keyup",n[27]),ne(l,"touchstart",n[28],{passive:!0}),ne(l,"touchend",n[29],{passive:!0}),ne(l,"touchmove",n[30],{passive:!0}),ne(l,"touchcancel",n[31]),ne(l,"mouseenter",n[32]),ne(l,"mouseleave",n[33])],d=!0)},p(w,O){var S;(!c||O[0]&2)&&(l.__value=w[1],tn(l,l.__value),i=!0),(!c||O[0]&16&&s!==(s=w[4]?w[17]:void 0))&&C(l,"aria-describedby",s),(!c||O[0]&8)&&C(l,"name",w[3]),(!c||O[0]&8192)&&C(l,"class",w[13]),(!c||O[0]&64)&&(l.disabled=w[6]),(!c||O[0]&128)&&(l.required=w[7]),(!c||O[0]&32)&&C(l,"tabindex",w[5]),(i||O[0]&1)&&(l.checked=l.__value===w[0]),o&&He(o.update)&&O[0]&256&&o.update.call(null,w[8]?{...w[8]===!0?{}:w[8],setValidationResult:w[15]}:void 0),w[2]?_?(_.p(w,O),O[0]&4&&k(_,1)):(_=Mn(w),_.c(),k(_,1),_.m(r,u)):_&&(Y(),p(_,1,1,()=>{_=null}),Q()),w[9]&&!((S=w[9])!=null&&S.valid)?b?(b.p(w,O),O[0]&512&&k(b,1)):(b=Ln(w),b.c(),k(b,1),b.m(r,f)):b&&(Y(),p(b,1,1,()=>{b=null}),Q()),w[4]?h?(h.p(w,O),O[0]&16&&k(h,1)):(h=Dn(w),h.c(),k(h,1),h.m(r,null)):h&&(Y(),p(h,1,1,()=>{h=null}),Q()),(!c||O[0]&16384)&&C(e,"class",w[14])},i(w){c||(k(_),k(b),k(h),c=!0)},o(w){p(_),p(b),p(h),c=!1},d(w){w&&T(e),_&&_.d(),b&&b.d(),h&&h.d(),v.r(),d=!1,on(g)}}}const fn={box:"flex items-start",label:"block w-full",input:`
			size-4 rounded-full
			bg-gray-100
			border-gray-300
			shadow-sm
			text-stuic-primary
			cursor-pointer
			focus:border-stuic-primary
			focus:ring-4
			focus:ring-offset-0
			focus:ring-stuic-primary
			focus:ring-opacity-20
			disabled:cursor-not-allowed
		`,validationMessage:"text-xs text-stuic-primary tracking-tight",description:"text-sm opacity-50"},dn={sm:{label:"text-sm"},md:{label:"text-base"},lg:{label:"text-base font-bold"}};function Qt(n,e,t){let l,i,s,o,a;const r=Ue();let{class:u={}}=e,{classBySize:f={}}=e,{size:c="md"}=e,{value:v}=e,{group:d}=e,{label:g}=e,{name:_}=e,{description:b=""}=e,{tabindex:h=0}=e,{disabled:E=!1}=e,{required:w=!1}=e,{validate:O=void 0}=e,S;const q=N=>{t(9,S=N),r("validation",S)};let G=hn(),x=hn();const j=(N,Ee="")=>{var Ne,Ie,Oe,ce,me;return[(fn==null?void 0:fn[N])||"",((Ne=dn==null?void 0:dn[c])==null?void 0:Ne[N])||"",((Ie=qe==null?void 0:qe.class)==null?void 0:Ie[N])||"",((ce=(Oe=qe==null?void 0:qe.classBySize)==null?void 0:Oe[c])==null?void 0:ce[N])||"",Ee||"",(u==null?void 0:u[N])||"",((me=f==null?void 0:f[c])==null?void 0:me[N])||""]},M=[[]];function B(N){X.call(this,n,N)}function se(N){X.call(this,n,N)}function I(N){X.call(this,n,N)}function L(N){X.call(this,n,N)}function le(N){X.call(this,n,N)}function W(N){X.call(this,n,N)}function fe(N){X.call(this,n,N)}function ve(N){X.call(this,n,N)}function be(N){X.call(this,n,N)}function Z(N){X.call(this,n,N)}function y(N){X.call(this,n,N)}function J(N){X.call(this,n,N)}function ae(N){X.call(this,n,N)}function ee(){d=this.__value,t(0,d)}const z=()=>!E&&t(0,d=v);return n.$$set=N=>{"class"in N&&t(18,u=N.class),"classBySize"in N&&t(19,f=N.classBySize),"size"in N&&t(20,c=N.size),"value"in N&&t(1,v=N.value),"group"in N&&t(0,d=N.group),"label"in N&&t(2,g=N.label),"name"in N&&t(3,_=N.name),"description"in N&&t(4,b=N.description),"tabindex"in N&&t(5,h=N.tabindex),"disabled"in N&&t(6,E=N.disabled),"required"in N&&t(7,w=N.required),"validate"in N&&t(8,O=N.validate)},n.$$.update=()=>{n.$$.dirty[0]&512&&t(13,i=te(j("input",S&&!S.valid?j("invalid").join(" "):"")))},t(14,l=te(j("box"))),t(12,s=te(j("label"))),t(11,o=te(j("validationMessage"))),t(10,a=te(j("description"))),[d,v,g,_,b,h,E,w,O,S,a,o,s,i,l,q,G,x,u,f,c,B,se,I,L,le,W,fe,ve,be,Z,y,J,ae,ee,M,z]}class $t extends pe{constructor(e){super(),Ce(this,e,Qt,Yt,ke,{class:18,classBySize:19,size:20,value:1,group:0,label:2,name:3,description:4,tabindex:5,disabled:6,required:7,validate:8},null,[-1,-1])}}function Kn(n,e,t){const l=n.slice();return l[25]=e[t],l[27]=t,l}function qn(n){let e,t,l,i=Ge(n[9]),s=[];for(let a=0;a<i.length;a+=1)s[a]=An(Kn(n,i,a));const o=a=>p(s[a],1,1,()=>{s[a]=null});return{c(){e=D("div");for(let a=0;a<s.length;a+=1)s[a].c();C(e,"class",t=te(`gap-y-2 grid ${n[0].group||""}`))},m(a,r){R(a,e,r);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null);l=!0},p(a,r){if(r&1015){i=Ge(a[9]);let u;for(u=0;u<i.length;u+=1){const f=Kn(a,i,u);s[u]?(s[u].p(f,r),k(s[u],1)):(s[u]=An(f),s[u].c(),k(s[u],1),s[u].m(e,null))}for(Y(),u=i.length;u<s.length;u+=1)o(u);Q()}(!l||r&1&&t!==(t=te(`gap-y-2 grid ${a[0].group||""}`)))&&C(e,"class",t)},i(a){if(!l){for(let r=0;r<i.length;r+=1)k(s[r]);l=!0}},o(a){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)p(s[r]);l=!1},d(a){a&&T(e),bt(s,a)}}}function An(n){let e,t,l;function i(o){n[10](o)}let s={name:n[1],label:n[25].label,value:n[25].value||n[25].label,description:n[25].description,class:n[0],classBySize:n[4],disabled:n[6],tabindex:n[8],required:n[7],size:n[5]};return n[2]!==void 0&&(s.group=n[2]),e=new $t({props:s}),ue.push(()=>Be(e,"group",i)),e.$on("blur",n[11]),e.$on("change",n[12]),e.$on("click",n[13]),e.$on("focus",n[14]),e.$on("input",n[15]),e.$on("keydown",n[16]),e.$on("keyup",n[17]),e.$on("touchstart",n[18]),e.$on("touchend",n[19]),e.$on("touchmove",n[20]),e.$on("touchcancel",n[21]),e.$on("mouseenter",n[22]),e.$on("mouseleave",n[23]),{c(){H(e.$$.fragment)},m(o,a){V(e,o,a),l=!0},p(o,a){const r={};a&2&&(r.name=o[1]),a&512&&(r.label=o[25].label),a&512&&(r.value=o[25].value||o[25].label),a&512&&(r.description=o[25].description),a&1&&(r.class=o[0]),a&16&&(r.classBySize=o[4]),a&64&&(r.disabled=o[6]),a&256&&(r.tabindex=o[8]),a&128&&(r.required=o[7]),a&32&&(r.size=o[5]),!t&&a&4&&(t=!0,r.group=o[2],Me(()=>t=!1)),e.$set(r)},i(o){l||(k(e.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function xt(n){let e,t,l=n[3].length&&qn(n);return{c(){l&&l.c(),e=oe()},m(i,s){l&&l.m(i,s),R(i,e,s),t=!0},p(i,[s]){i[3].length?l?(l.p(i,s),s&8&&k(l,1)):(l=qn(i),l.c(),k(l,1),l.m(e.parentNode,e)):l&&(Y(),p(l,1,1,()=>{l=null}),Q())},i(i){t||(k(l),t=!0)},o(i){p(l),t=!1},d(i){i&&T(e),l&&l.d(i)}}}const xe=()=>({group:"",box:"",label:"",input:"",invalid:"",validationMessage:"",description:""});class qe{}we(qe,"class",xe()),we(qe,"classBySize",{sm:xe(),md:xe(),lg:xe()});function el(n,e,t){De("FieldRadio");let{options:l=[]}=e,{class:i={}}=e,{classBySize:s={}}=e,{size:o="md"}=e,{name:a=""}=e,{value:r}=e,{disabled:u=!1}=e,{required:f=!1}=e,{tabindex:c=0}=e,v=[];function d(B){r=B,t(2,r)}function g(B){X.call(this,n,B)}function _(B){X.call(this,n,B)}function b(B){X.call(this,n,B)}function h(B){X.call(this,n,B)}function E(B){X.call(this,n,B)}function w(B){X.call(this,n,B)}function O(B){X.call(this,n,B)}function S(B){X.call(this,n,B)}function q(B){X.call(this,n,B)}function G(B){X.call(this,n,B)}function x(B){X.call(this,n,B)}function j(B){X.call(this,n,B)}function M(B){X.call(this,n,B)}return n.$$set=B=>{"options"in B&&t(3,l=B.options),"class"in B&&t(0,i=B.class),"classBySize"in B&&t(4,s=B.classBySize),"size"in B&&t(5,o=B.size),"name"in B&&t(1,a=B.name),"value"in B&&t(2,r=B.value),"disabled"in B&&t(6,u=B.disabled),"required"in B&&t(7,f=B.required),"tabindex"in B&&t(8,c=B.tabindex)},n.$$.update=()=>{n.$$.dirty&1&&typeof i=="string"&&t(0,i={group:i}),n.$$.dirty&8&&t(9,v=l.map(B=>(typeof B=="string"&&(B={label:B}),B))),n.$$.dirty&2&&t(1,a||(a=hn()))},[i,a,r,l,s,o,u,f,c,v,d,g,_,b,h,E,w,O,S,q,G,x,j,M]}class nl extends pe{constructor(e){super(),Ce(this,e,el,xt,ke,{options:3,class:0,classBySize:4,size:5,name:1,value:2,disabled:6,required:7,tabindex:8})}}function Hn(n){let e,t,l;return t=new kn({props:{thc:n[0],forceAsHtml:!0}}),{c(){e=D("legend"),H(t.$$.fragment),C(e,"class",te(n[1]("legend")))},m(i,s){R(i,e,s),V(t,e,null),l=!0},p(i,s){const o={};s&1&&(o.thc=i[0]),t.$set(o)},i(i){l||(k(t.$$.fragment,i),l=!0)},o(i){p(t.$$.fragment,i),l=!1},d(i){i&&T(e),P(t)}}}function tl(n){let e,t,l,i=n[0]&&Hn(n);const s=n[4].default,o=_n(s,n,n[3],null);return{c(){e=D("fieldset"),i&&i.c(),t=A(),o&&o.c(),C(e,"class",te(n[1]("box")))},m(a,r){R(a,e,r),i&&i.m(e,null),K(e,t),o&&o.m(e,null),l=!0},p(a,[r]){a[0]?i?(i.p(a,r),r&1&&k(i,1)):(i=Hn(a),i.c(),k(i,1),i.m(e,t)):i&&(Y(),p(i,1,1,()=>{i=null}),Q()),o&&o.p&&(!l||r&8)&&bn(o,s,a,a[3],l?gn(s,a[3],r,null):mn(a[3]),null)},i(a){l||(k(i),k(o,a),l=!0)},o(a){p(i),p(o,a),l=!1},d(a){a&&T(e),i&&i.d(),o&&o.d(a)}}}const cn={box:"border border-gray-200 p-4 pt-3 rounded-md",legend:"px-2"};class en{}we(en,"class",{});function ll(n,e,t){let{$$slots:l={},$$scope:i}=e,{class:s={}}=e,{legend:o=""}=e;const a=(r,u="")=>{var f;return[(cn==null?void 0:cn[r])||"",((f=en==null?void 0:en.class)==null?void 0:f[r])||"",(s==null?void 0:s[r])||""]};return n.$$set=r=>{"class"in r&&t(2,s=r.class),"legend"in r&&t(0,o=r.legend),"$$scope"in r&&t(3,i=r.$$scope)},[o,a,s,i,l]}class il extends pe{constructor(e){super(),Ce(this,e,ll,tl,ke,{class:2,legend:0})}}const sl=n=>{const{size:e,class:t,style:l,strokeWidth:i}=n||{};let s=Object.entries(n).filter(([o,a])=>!/^class|size|style|strokeWidth$/.test(o)).reduce((o,[a,r])=>[...o,`${a}="${r}"`],[]).join(" ");return`<svg ${l?`style="${l}" `:""}${t?`class="${t}" `:""}width="${e||24}" height="${e||24}" stroke-width="${i??2}" ${s?`${s} `:""}viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line></svg>`};function ol(n){let e;return{c(){e=We("Cancel")},m(t,l){R(t,e,l)},d(t){t&&T(e)}}}function Vn(n){let e,t;return e=new Pe({props:{type:"button",variant:"",class:"min-w-24 flex justify-center",$$slots:{default:[al]},$$scope:{ctx:n}}}),e.$on("click",n[9]),{c(){H(e.$$.fragment)},m(l,i){V(e,l,i),t=!0},p(l,i){const s={};i&4112&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function al(n){let e,t;return{c(){e=new Re(!1),t=oe(),e.a=t},m(l,i){e.m(n[4],l,i),R(l,t,i)},p(l,i){i&16&&e.p(l[4])},d(l){l&&(T(t),e.d())}}}function rl(n){let e,t;return{c(){e=new Re(!1),t=oe(),e.a=t},m(l,i){e.m(n[3],l,i),R(l,t,i)},p(l,i){i&8&&e.p(l[3])},d(l){l&&(T(t),e.d())}}}function ul(n){let e,t,l,i,s,o,a;t=new Pe({props:{variant:"flat",class:"min-w-24 flex justify-center",$$slots:{default:[ol]},$$scope:{ctx:n}}}),t.$on("click",n[8]);let r=n[2]&&Vn(n);return o=new Pe({props:{variant:"primary",class:"min-w-24 flex justify-center",$$slots:{default:[rl]},$$scope:{ctx:n}}}),o.$on("click",n[10]),{c(){e=D("footer"),H(t.$$.fragment),l=A(),i=D("div"),r&&r.c(),s=A(),H(o.$$.fragment),C(i,"class","flex space-x-4"),C(e,"class","w-full min-h-14 flex items-center justify-between px-4 sm:px-8 transition-all space-x-4 bg-neutral-200 ")},m(u,f){R(u,e,f),V(t,e,null),K(e,l),K(e,i),r&&r.m(i,null),K(i,s),V(o,i,null),a=!0},p(u,[f]){const c={};f&4096&&(c.$$scope={dirty:f,ctx:u}),t.$set(c),u[2]?r?(r.p(u,f),f&4&&k(r,1)):(r=Vn(u),r.c(),k(r,1),r.m(i,s)):r&&(Y(),p(r,1,1,()=>{r=null}),Q());const v={};f&4104&&(v.$$scope={dirty:f,ctx:u}),o.$set(v)},i(u){a||(k(t.$$.fragment,u),k(r),k(o.$$.fragment,u),a=!0)},o(u){p(t.$$.fragment,u),p(r),p(o.$$.fragment,u),a=!1},d(u){u&&T(e),P(t),r&&r.d(),P(o)}}}function fl(n,e,t){let l;Se(n,rn,_=>t(7,l=_));const i=De("NonFieldModalFooter");let{onCancel:s}=e,{onOK:o}=e,{onSave:a=null}=e,{okLabel:r="Save &amp; close"}=e,{saveLabel:u="Save"}=e,{allowCtrlSave:f=!0}=e;const c=_=>{if(typeof _=="function")return _();i.warn("Cannot execute. Not a function")};Ht(()=>{l.includes(a)&&(l.splice(l.indexOf(a),1),ie(rn,l=[...l],l))});const v=()=>c(s),d=()=>c(a),g=()=>c(o);return n.$$set=_=>{"onCancel"in _&&t(0,s=_.onCancel),"onOK"in _&&t(1,o=_.onOK),"onSave"in _&&t(2,a=_.onSave),"okLabel"in _&&t(3,r=_.okLabel),"saveLabel"in _&&t(4,u=_.saveLabel),"allowCtrlSave"in _&&t(6,f=_.allowCtrlSave)},n.$$.update=()=>{n.$$.dirty&196&&f&&typeof a=="function"&&!l.includes(a)&&ie(rn,l=[...l,a],l)},[s,o,a,r,u,c,f,l,v,d,g]}class dl extends pe{constructor(e){super(),Ce(this,e,fl,ul,ke,{onCancel:0,onOK:1,onSave:2,okLabel:3,saveLabel:4,allowCtrlSave:6})}}function cl(n){let e,t;const l=n[1].default,i=_n(l,n,n[0],null);return{c(){e=D("div"),i&&i.c(),C(e,"class","w-full min-h-14 flex items-center justify-center bg-neutral-200 px-4 sm:px-8 transition-all font-semibold ")},m(s,o){R(s,e,o),i&&i.m(e,null),t=!0},p(s,[o]){i&&i.p&&(!t||o&1)&&bn(i,l,s,s[0],t?gn(l,s[0],o,null):mn(s[0]),null)},i(s){t||(k(i,s),t=!0)},o(s){p(i,s),t=!1},d(s){s&&T(e),i&&i.d(s)}}}function hl(n,e,t){let{$$slots:l={},$$scope:i}=e;return n.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,l]}class _l extends pe{constructor(e){super(),Ce(this,e,hl,cl,ke,{})}}function bl(n){n==null&&(n={}),typeof n!="object"&&(n={class:n||""}),arguments.length>1&&(n.size??(n.size=arguments[1])),arguments.length>2&&(n.style??(n.style=arguments[2]));const{size:e,class:t,style:l,strokeWidth:i}=n;let s=Object.entries(n).filter(([o,a])=>!/^class|size|style|strokeWidth$/.test(o)).reduce((o,[a,r])=>[...o,`${a}="${r}"`],[]).join(" ");return`<svg ${l?`style="${l}" `:""}${t?`class="${t}" `:""}width="${e||16}" height="${e||16}" ${s?`${s} `:""}fill="currentColor" viewBox="0 0 16 16"><path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/></svg>`}function ml(n){n==null&&(n={}),typeof n!="object"&&(n={class:n||""}),arguments.length>1&&(n.size??(n.size=arguments[1])),arguments.length>2&&(n.style??(n.style=arguments[2]));const{size:e,class:t,style:l,strokeWidth:i}=n;let s=Object.entries(n).filter(([o,a])=>!/^class|size|style|strokeWidth$/.test(o)).reduce((o,[a,r])=>[...o,`${a}="${r}"`],[]).join(" ");return`<svg ${l?`style="${l}" `:""}${t?`class="${t}" `:""}width="${e||20}" height="${e||20}" ${s?`${s} `:""}viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 0 1-9.201 2.466l-.312-.311h2.433a.75.75 0 0 0 0-1.5H3.989a.75.75 0 0 0-.75.75v4.242a.75.75 0 0 0 1.5 0v-2.43l.31.31a7 7 0 0 0 11.712-3.138.75.75 0 0 0-1.449-.39Zm1.23-3.723a.75.75 0 0 0 .219-.53V2.929a.75.75 0 0 0-1.5 0V5.36l-.31-.31A7 7 0 0 0 3.239 8.188a.75.75 0 1 0 1.448.389A5.5 5.5 0 0 1 13.89 6.11l.311.31h-2.432a.75.75 0 0 0 0 1.5h4.243a.75.75 0 0 0 .53-.219Z" clip-rule="evenodd"/></svg>`}function gl(n){n==null&&(n={}),typeof n!="object"&&(n={class:n||""}),arguments.length>1&&(n.size??(n.size=arguments[1])),arguments.length>2&&(n.style??(n.style=arguments[2]));const{size:e,class:t,style:l,strokeWidth:i}=n;let s=Object.entries(n).filter(([o,a])=>!/^class|size|style|strokeWidth$/.test(o)).reduce((o,[a,r])=>[...o,`${a}="${r}"`],[]).join(" ");return`<svg ${l?`style="${l}" `:""}${t?`class="${t}" `:""}width="${e||20}" height="${e||20}" ${s?`${s} `:""}viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon"><path fill-rule="evenodd" d="M6.28 5.22a.75.75 0 0 1 0 1.06L2.56 10l3.72 3.72a.75.75 0 0 1-1.06 1.06L.97 10.53a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Zm7.44 0a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L17.44 10l-3.72-3.72a.75.75 0 0 1 0-1.06ZM11.377 2.011a.75.75 0 0 1 .612.867l-2.5 14.5a.75.75 0 0 1-1.478-.255l2.5-14.5a.75.75 0 0 1 .866-.612Z" clip-rule="evenodd"/></svg>`}function kl(n){n==null&&(n={}),typeof n!="object"&&(n={class:n||""}),arguments.length>1&&(n.size??(n.size=arguments[1])),arguments.length>2&&(n.style??(n.style=arguments[2]));const{size:e,class:t,style:l,strokeWidth:i}=n;let s=Object.entries(n).filter(([o,a])=>!/^class|size|style|strokeWidth$/.test(o)).reduce((o,[a,r])=>[...o,`${a}="${r}"`],[]).join(" ");return`<svg ${l?`style="${l}" `:""}${t?`class="${t}" `:""}width="${e||20}" height="${e||20}" ${s?`${s} `:""}viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon"><path fill-rule="evenodd" d="M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z" clip-rule="evenodd"/></svg>`}function vl(n){n==null&&(n={}),typeof n!="object"&&(n={class:n||""}),arguments.length>1&&(n.size??(n.size=arguments[1])),arguments.length>2&&(n.style??(n.style=arguments[2]));const{size:e,class:t,style:l,strokeWidth:i}=n;let s=Object.entries(n).filter(([o,a])=>!/^class|size|style|strokeWidth$/.test(o)).reduce((o,[a,r])=>[...o,`${a}="${r}"`],[]).join(" ");return`<svg ${l?`style="${l}" `:""}${t?`class="${t}" `:""}width="${e||20}" height="${e||20}" ${s?`${s} `:""}viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon"><path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"/></svg>`}function wl(n){n==null&&(n={}),typeof n!="object"&&(n={class:n||""}),arguments.length>1&&(n.size??(n.size=arguments[1])),arguments.length>2&&(n.style??(n.style=arguments[2]));const{size:e,class:t,style:l,strokeWidth:i}=n;let s=Object.entries(n).filter(([o,a])=>!/^class|size|style|strokeWidth$/.test(o)).reduce((o,[a,r])=>[...o,`${a}="${r}"`],[]).join(" ");return`<svg ${l?`style="${l}" `:""}${t?`class="${t}" `:""}width="${e||24}" height="${e||24}" stroke-width="${i??2}" ${s?`${s} `:""}viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>`}function yl(n){n==null&&(n={}),typeof n!="object"&&(n={class:n||""}),arguments.length>1&&(n.size??(n.size=arguments[1])),arguments.length>2&&(n.style??(n.style=arguments[2]));const{size:e,class:t,style:l,strokeWidth:i}=n;let s=Object.entries(n).filter(([o,a])=>!/^class|size|style|strokeWidth$/.test(o)).reduce((o,[a,r])=>[...o,`${a}="${r}"`],[]).join(" ");return`<svg ${l?`style="${l}" `:""}${t?`class="${t}" `:""}width="${e||24}" height="${e||24}" stroke-width="${i??2}" ${s?`${s} `:""}viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>`}function pl(n){n==null&&(n={}),typeof n!="object"&&(n={class:n||""}),arguments.length>1&&(n.size??(n.size=arguments[1])),arguments.length>2&&(n.style??(n.style=arguments[2]));const{size:e,class:t,style:l,strokeWidth:i}=n;let s=Object.entries(n).filter(([o,a])=>!/^class|size|style|strokeWidth$/.test(o)).reduce((o,[a,r])=>[...o,`${a}="${r}"`],[]).join(" ");return`<svg ${l?`style="${l}" `:""}${t?`class="${t}" `:""}width="${e||24}" height="${e||24}" stroke-width="${i??2}" ${s?`${s} `:""}viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line></svg>`}function Cl(n){n==null&&(n={}),typeof n!="object"&&(n={class:n||""}),arguments.length>1&&(n.size??(n.size=arguments[1])),arguments.length>2&&(n.style??(n.style=arguments[2]));const{size:e,class:t,style:l,strokeWidth:i}=n;let s=Object.entries(n).filter(([o,a])=>!/^class|size|style|strokeWidth$/.test(o)).reduce((o,[a,r])=>[...o,`${a}="${r}"`],[]).join(" ");return`<svg ${l?`style="${l}" `:""}${t?`class="${t}" `:""}width="${e||24}" height="${e||24}" stroke-width="${i??2}" ${s?`${s} `:""}viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>`}const ye=class ye{constructor(e,t=null,l=null){we(this,"value");we(this,"_parent");we(this,"tree");we(this,"_key");we(this,"_children",[]);we(this,"_readonly",!1);this.value=e,this._parent=t,this.tree=l,this._key=ye.createKey()}__setKey(e){return this._key=e,this}__setParent(e){return this._parent=e,this}__setTree(e){return this.tree=e,this}__setReadonly(e=!0){return this._readonly=e,this}__syncChildren(){const e=(t,l)=>{for(let i of t)i.__setParent(l).__setTree((l==null?void 0:l.tree)||null).__setReadonly(l==null?void 0:l.readonly),e(i.children,i)};return e(this._children,this)}get depth(){return this.path.length}get readonly(){return this._readonly}get root(){let e=this._parent,t=e;for(;e;)e=e.parent,e&&(t=e);return t}get path(){let e=this._parent,t=[];for(e&&t.push(e);e;)e=e.parent,e&&t.unshift(e);return t}get key(){return this._key}get parent(){return this._parent}get children(){return this._children}get isLeaf(){return this._children.length===0}get isRoot(){return this._parent===null}get siblings(){var e;return((e=this._parent)==null?void 0:e.children)||[]}get siblingIndex(){return this.siblings.length?this.siblings.findIndex(e=>e.key===this._key):-1}_assertNotReadonly(){if(this._readonly)throw new Error("Cannot proceed because the node is marked as readonly")}_assertSameTopRootNode(e){if(!this.isRoot&&e instanceof ye&&e.root!==this.root)throw new Error("Cannot proceed with a node from a different tree. (Use node's value instead.)")}_assertNotContains(e){if(e instanceof ye&&this.contains(e.key))throw new Error("Cannot proceed, already contains.")}_assertIsNotSiblingOf(e){if(e instanceof ye&&this.siblings.some(t=>t.key===e.key))throw new Error("Cannot proceed (is sibling of).")}toJSON(){return{key:this._key,value:this.value,children:this._children}}deepClone(){const e=JSON.parse(JSON.stringify(this.toJSON(),(i,s)=>i==="key"?ye.createKey():s)),t=new ye(e.value,this._parent);t.__setKey(e.key);const l=(i,s)=>{for(let o of i){const a=s.appendChild(o.value).__setKey(o.key);l(o.children,a)}};return l(e.children,t),t}appendChild(e,t=!0){this._assertNotReadonly(),this._assertSameTopRootNode(e),this._assertIsNotSiblingOf(e);const l=e instanceof ye?e:new ye(e,this);return l.__setParent(this),this._children.push(l),t&&this.__syncChildren(),l}removeChild(e){this._assertNotReadonly();const t=this._children.findIndex(l=>l.key===e);if(t<0)throw new Error(`Node "${e}" not found.`);return this._children.splice(t,1),this}replaceChild(e,t){this._assertNotReadonly(),this._assertSameTopRootNode(t);const l=this._children.findIndex(s=>s.key===e);if(l<0)throw new Error(`Node "${e}" not found.`);this._assertNotContains(t);const i=t instanceof ye?t:new ye(t,this);return i.__setParent(this),this._children[l]=i,this.__syncChildren(),this._children[l]}resetChildren(e=[]){return this._assertNotReadonly(),this._children=[],(e||[]).forEach(t=>this.appendChild(t,!1)),this.__syncChildren(),this}previousSibling(){if(this.siblings.length){const e=this.siblings.findIndex(t=>t.key===this._key);return this.siblings[e-1]||null}return null}nextSibling(){if(this.siblings.length){const e=this.siblings.findIndex(t=>t.key===this._key);return this.siblings[e+1]||null}return null}moveSiblingIndex(e){this._assertNotReadonly();const t=this.siblingIndex;return this.siblings.length<2||((e=Math.min(e,this.siblings.length-1))<0&&(e=Math.max(0,this.siblings.length-1+e)),this.siblings.splice(e,0,this.siblings.splice(t,1)[0])),this}contains(e){if(!e)throw new Error("Missing key");const t=l=>{for(let i of l)if(i.key===e||t(i.children))return!0;return!1};return t(this._children)}toString(){var t;let e=(t=this.value)==null?void 0:t.toString();return e==="[object Object]"&&(e=this.key),"    ".repeat(this.depth)+e}};we(ye,"createKey",()=>"n"+Math.random().toString(36).slice(2,10));let Ze=ye;class Je{constructor(e=null,t=!1){we(this,"_root");we(this,"_readonly");this._root=e,this._readonly=t,this._root&&this._root.__setTree(this).__setReadonly(this._readonly).__syncChildren()}get readonly(){return this._readonly}__setReadonly(e=!0){return this._readonly=!!e,this._root&&this._root.__setReadonly(this._readonly).__syncChildren(),this}static factory(e,t=!1){return new Je(null,t).restore(e)}appendChild(e){return this._root?this._root.appendChild(e).__setReadonly(this._readonly):(this._root=e instanceof Ze?e:new Ze(e),this._root.__setTree(this).__syncChildren(),this._root)}get root(){return this._root}*preOrderTraversal(e){if(e??(e=this._root),yield e,e==null?void 0:e.children.length)for(let t of e.children)yield*this.preOrderTraversal(t)}*postOrderTraversal(e){if(e??(e=this._root),e==null?void 0:e.children.length)for(let t of e.children)yield*this.postOrderTraversal(t);yield e}find(e){for(let t of this.preOrderTraversal())if(t.key===e)return t;return null}findBy(e,t=null){for(let l of this.preOrderTraversal())if(t&&l.value[t]!==void 0&&l.value[t]===e||!t&&l.value===e)return l;return null}findLCA(e,t){const l=this.find(e),i=this.find(t);if(!l||!i)throw new Error(`Node "${e}" and/or "${t}" not found.`);if(l===i)return l;const s=l.path.reduce((a,r)=>({...a,[r.key]:r}),{});let o=this._root;for(let a of i.path){if(!s[a.key])return o;o=s[a.key]}return o}insert(e,t){const l=this.find(e);if(l)return l.appendChild(t).__setReadonly(this._readonly);throw new Error(`Node "${e}" not found.`)}remove(e){var t;if(((t=this._root)==null?void 0:t.key)===e)return this._root=null,this;for(let l of this.preOrderTraversal())if(l.key===e&&l.parent.removeChild(e))return this;throw new Error(`Node "${e}" not found.`)}_moveOrCopy(e,t,l){const i=this.find(e);if(!i)throw new Error(`Source node "${e}" not found.`);if(l&&i.contains(t))throw new Error("Recursive reference detected. Node cannot be moved to its own descendant.");const s=this.find(t);if(!s)throw new Error(`Target node "${t}" not found.`);if(l&&s===i)throw new Error("Cannot move to self.");return l&&s===i.parent?i:l?(this.remove(i.key),s.appendChild(i).__setReadonly(this._readonly)):s.appendChild(i.deepClone()).__setReadonly(this._readonly)}move(e,t){return this._moveOrCopy(e,t,!0)}copy(e,t){return this._moveOrCopy(e,t,!1)}toJSON(){var e;return(e=this._root)==null?void 0:e.toJSON()}dump(){return JSON.stringify(this)}restore(e){let t=e;typeof e=="string"&&(t=JSON.parse(e));const l=(s,o)=>{for(let a of s){const r=o.appendChild(a.value,!1).__setTree(this).__setKey(a.key);l(a.children,r)}},i=new Ze(t.value).__setTree(this).__setKey(t.key);return l(t.children,i),this._readonly&&[...this.postOrderTraversal()].map(s=>s==null?void 0:s.__setReadonly(this._readonly)),this._root=i,this}size(e){if(e??(e=this._root),!e)return 0;const t=[...this.preOrderTraversal(e)].length;return e===this._root||t!==1||this.contains(e==null?void 0:e.key)?t:0}contains(e){var t;return!!((t=this._root)!=null&&t.contains(e))}toString(){return[...this.preOrderTraversal()].map(e=>e==null?void 0:e.toString()).join(`
`)}}function Pn(n){let e,t,l,i;return{c(){e=D("div"),C(e,"class","transition-all rounded"),F(e,"bg-black",n[5]===n[1]),F(e,"h-2",n[5]!==n[1]&&n[0]===-1),F(e,"h-3",n[5]!==n[1]&&n[0]!==-1),F(e,"h-8",n[5]===n[1])},m(s,o){R(s,e,o),l||(i=Le(t=mt.call(null,e,{enabled:!n[3],id:n[1],dropEffect:"move",onDrop:n[9],isDraggedOver:n[7]})),l=!0)},p(s,o){t&&He(t.update)&&o&31&&t.update.call(null,{enabled:!s[3],id:s[1],dropEffect:"move",onDrop:s[9],isDraggedOver:s[7]}),o&34&&F(e,"bg-black",s[5]===s[1]),o&35&&F(e,"h-2",s[5]!==s[1]&&s[0]===-1),o&35&&F(e,"h-3",s[5]!==s[1]&&s[0]!==-1),o&34&&F(e,"h-8",s[5]===s[1])},d(s){s&&T(e),l=!1,i()}}}function Nl(n){let e,t=n[1]&&Pn(n);return{c(){t&&t.c(),e=oe()},m(l,i){t&&t.m(l,i),R(l,e,i)},p(l,[i]){l[1]?t?t.p(l,i):(t=Pn(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(l){l&&T(e),t&&t.d(l)}}}function zl(n,e,t){let l,i=$,s=()=>(i(),i=Ae(f,_=>t(4,l=_)),f),o;n.$$.on_destroy.push(()=>i());const a=Ue();De("Dropzone");let{index:r=0}=e,{id:u=""}=e,{store:f}=e;s();let{disabled:c=!1}=e;const v=je(null);Se(n,v,_=>t(5,o=_));const d=new Je,g=(_,b)=>{var q;const h=(q=_.payload)==null?void 0:q.source,E=u;let w=r;d.restore(l.data);const O=d.find(h),S=d.find(E);(O==null?void 0:O.parent)===S?w===-1?w=0:(O==null?void 0:O.siblingIndex)>w&&w++:w++,f.move(h,E,w),a("dropped")};return n.$$set=_=>{"index"in _&&t(0,r=_.index),"id"in _&&t(1,u=_.id),"store"in _&&s(t(2,f=_.store)),"disabled"in _&&t(3,c=_.disabled)},[r,u,f,c,l,o,a,v,d,g]}class vt extends pe{constructor(e){super(),Ce(this,e,zl,Nl,ke,{index:0,id:1,store:2,disabled:3})}}function Wn(n){let e,t;return{c(){e=D("span"),t=We(n[1]),C(e,"class","text-xs font-mono opacity-50 mr-2")},m(l,i){R(l,e,i),K(e,t)},p(l,i){i&2&&Xe(t,l[1])},d(l){l&&T(e)}}}function Bl(n){let e,t,l,i,s,o,a,r=n[0].type+"",u,f,c,v,d=n[4]&&Wn(n);return{c(){e=D("div"),t=D("div"),l=D("input"),i=A(),d&&d.c(),s=A(),o=D("button"),a=D("span"),u=We(r),C(l,"type","text"),C(l,"class","w-full bg-transparent focus:outline-none focus:bg-gray-100 hover:bg-gray-50 focus:border-none focus:ring-0 border-none p-0 text-base ring-0 "),l.disabled=n[2],F(l,"cursor-not-allowed",n[2]),C(t,"class","flex-1 pr-2"),C(a,"class","opacity-75"),C(o,"class","text-xs font-mono rounded-full p-1 px-2 bg-gray-100 "),C(o,"type","button"),C(o,"aria-label",f=n[3]("node_edit_drag")),C(e,"class","flex items-center")},m(g,_){R(g,e,_),K(e,t),K(t,l),n[9](l),tn(l,n[0].label),K(e,i),d&&d.m(e,null),K(e,s),K(e,o),K(o,a),K(a,u),c||(v=[ne(l,"input",n[10]),ne(l,"blur",n[7]),ne(l,"keydown",n[11]),ne(o,"click",n[12])],c=!0)},p(g,[_]){_&4&&(l.disabled=g[2]),_&1&&l.value!==g[0].label&&tn(l,g[0].label),_&4&&F(l,"cursor-not-allowed",g[2]),g[4]?d?d.p(g,_):(d=Wn(g),d.c(),d.m(e,s)):d&&(d.d(1),d=null),_&1&&r!==(r=g[0].type+"")&&Xe(u,r),_&8&&f!==(f=g[3]("node_edit_drag"))&&C(o,"aria-label",f)},i:$,o:$,d(g){g&&T(e),n[9](null),d&&d.d(),c=!1,on(v)}}}function El(n,e,t){De("ContentNodeValue");let{value:l}=e,{key:i}=e,{store:s}=e,{disabled:o=!1}=e,{t:a}=e,{showNodeId:r=!1}=e,{onNodeEditRequest:u}=e,f,c=l.label;const v=h=>{c!==l.label&&(s.save(),c=l.label)};function d(h){ue[h?"unshift":"push"](()=>{f=h,t(6,f)})}function g(){l.label=this.value,t(0,l)}const _=h=>{h.key==="Enter"&&(f.blur(),v())},b=async()=>u(i,l);return n.$$set=h=>{"value"in h&&t(0,l=h.value),"key"in h&&t(1,i=h.key),"store"in h&&t(8,s=h.store),"disabled"in h&&t(2,o=h.disabled),"t"in h&&t(3,a=h.t),"showNodeId"in h&&t(4,r=h.showNodeId),"onNodeEditRequest"in h&&t(5,u=h.onNodeEditRequest)},[l,i,o,a,r,u,f,v,s,d,g,_,b]}class Il extends pe{constructor(e){super(),Ce(this,e,El,Bl,ke,{value:0,key:1,store:8,disabled:2,t:3,showNodeId:4,onNodeEditRequest:5})}}function Ol(n){let e,t,l,i,s;const o=n[5].default,a=_n(o,n,n[4],null);return{c(){var r,u;e=D("button"),a&&a.c(),C(e,"class",t=te(`
        px-3 py-2 
        opacity-80
        text-white
        hover:underline hover:opacity-100 hover:bg-gray-700 
        ${((u=(r=n[2])==null?void 0:r.hover_control)==null?void 0:u.button)||""}
        ${n[0]}
    `)),C(e,"aria-label",n[1]),e.disabled=n[3],C(e,"type","button")},m(r,u){R(r,e,u),a&&a.m(e,null),l=!0,i||(s=[ne(e,"click",n[6]),Le(Ye.call(null,e))],i=!0)},p(r,[u]){var f,c;a&&a.p&&(!l||u&16)&&bn(a,o,r,r[4],l?gn(o,r[4],u,null):mn(r[4]),null),(!l||u&5&&t!==(t=te(`
        px-3 py-2 
        opacity-80
        text-white
        hover:underline hover:opacity-100 hover:bg-gray-700 
        ${((c=(f=r[2])==null?void 0:f.hover_control)==null?void 0:c.button)||""}
        ${r[0]}
    `)))&&C(e,"class",t),(!l||u&2)&&C(e,"aria-label",r[1]),(!l||u&8)&&(e.disabled=r[3])},i(r){l||(k(a,r),l=!0)},o(r){p(a,r),l=!1},d(r){r&&T(e),a&&a.d(r),i=!1,on(s)}}}function Sl(n,e,t){let{$$slots:l={},$$scope:i}=e,{class:s=""}=e,{ariaLabel:o=""}=e,{theme:a}=e,{disabled:r=!1}=e;function u(f){X.call(this,n,f)}return n.$$set=f=>{"class"in f&&t(0,s=f.class),"ariaLabel"in f&&t(1,o=f.ariaLabel),"theme"in f&&t(2,a=f.theme),"disabled"in f&&t(3,r=f.disabled),"$$scope"in f&&t(4,i=f.$$scope)},[s,o,a,r,i,l,u]}class nn extends pe{constructor(e){super(),Ce(this,e,Sl,Ol,ke,{class:0,ariaLabel:1,theme:2,disabled:3})}}function Jn(n){let e,t=JSON.stringify({dropzoneEnabled:n[1]})+"",l;return{c(){e=D("div"),l=We(t),C(e,"class","text-xs font-mono bg-pink-100 text-pink-800/70 p-1")},m(i,s){R(i,e,s),K(e,l)},p(i,s){s&2&&t!==(t=JSON.stringify({dropzoneEnabled:i[1]})+"")&&Xe(l,t)},d(i){i&&T(e)}}}function Rl(n){let e,t=n[0]&&Jn(n);return{c(){t&&t.c(),e=oe()},m(l,i){t&&t.m(l,i),R(l,e,i)},p(l,[i]){l[0]?t?t.p(l,i):(t=Jn(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(l){l&&T(e),t&&t.d(l)}}}function Tl(n,e,t){let{debug:l=!1}=e,{node:i}=e,{dropzoneEnabled:s=void 0}=e;return n.$$set=o=>{"debug"in o&&t(0,l=o.debug),"node"in o&&t(2,i=o.node),"dropzoneEnabled"in o&&t(1,s=o.dropzoneEnabled)},[l,s,i]}class wt extends pe{constructor(e){super(),Ce(this,e,Tl,Rl,ke,{debug:0,node:2,dropzoneEnabled:1})}}const jl=n=>`${n}`.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),yt=(n,e,t=!1)=>{t&&(e=Object.entries(e).reduce((s,[o,a])=>({...s,[o.toLowerCase()]:a}),{}));let l=[];Object.keys(e).forEach(s=>l.push(jl(s)));let i=new RegExp(l.join("|"),"g"+(t?"i":""));return n.replace(i,s=>{t&&(s=s.toLowerCase());let o=typeof e[s]=="function"?e[s]():e[s];return o??""})};function Fn(n,e,t){const l=n.slice();l[36]=e[t],l[40]=t;const i=l[36].key;l[37]=i;const s=!l[5]&&l[11].at(-1)===l[36].key;return l[38]=s,l}function Zn(n){var a;let e,t=[],l=new Map,i,s=Ge(((a=n[0])==null?void 0:a.children)||[]);const o=r=>r[36].key;for(let r=0;r<s.length;r+=1){let u=Fn(n,s,r),f=o(u);l.set(f,t[r]=Qn(f,u))}return{c(){e=D("ol");for(let r=0;r<t.length;r+=1)t[r].c();C(e,"class","w-full"),F(e,"opacity-50",n[5]),F(e,"cursor-not-allowed",n[5])},m(r,u){R(r,e,u);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);i=!0},p(r,u){var f;u[0]&8126463&&(s=Ge(((f=r[0])==null?void 0:f.children)||[]),Y(),t=Wt(t,u,o,1,r,s,l,e,Ft,Qn,null,Fn),Q()),(!i||u[0]&32)&&F(e,"opacity-50",r[5]),(!i||u[0]&32)&&F(e,"cursor-not-allowed",r[5])},i(r){if(!i){for(let u=0;u<s.length;u+=1)k(t[u]);i=!0}},o(r){for(let u=0;u<t.length;u+=1)p(t[u]);i=!1},d(r){r&&T(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function Gn(n){var o;let e,t,l,i,s;return t=new wt({props:{node:n[0],debug:n[10],dropzoneEnabled:n[22](n[0])}}),i=new vt({props:{id:(o=n[0])==null?void 0:o.key,store:n[1],index:-1,disabled:n[5]||!n[22](n[0])}}),i.$on("dropped",n[23]),{c(){e=D("li"),H(t.$$.fragment),l=A(),H(i.$$.fragment)},m(a,r){R(a,e,r),V(t,e,null),K(e,l),V(i,e,null),s=!0},p(a,r){var c;const u={};r[0]&1&&(u.node=a[0]),r[0]&1024&&(u.debug=a[10]),r[0]&1&&(u.dropzoneEnabled=a[22](a[0])),t.$set(u);const f={};r[0]&1&&(f.id=(c=a[0])==null?void 0:c.key),r[0]&2&&(f.store=a[1]),r[0]&33&&(f.disabled=a[5]||!a[22](a[0])),i.$set(f)},i(a){s||(k(t.$$.fragment,a),k(i.$$.fragment,a),s=!0)},o(a){p(t.$$.fragment,a),p(i.$$.fragment,a),s=!1},d(a){a&&T(e),P(t),P(i)}}}function Un(n){let e,t,l,i;return t=new pt({props:{node:n[36],store:n[1],hoveredKeys:n[2],t:n[3],theme:n[4],disabled:n[5],acp:n[6],showNodeId:n[8],onNodeEditRequest:n[7],highlightedNodeKey:n[9],debug:n[10]}}),{c(){e=D("div"),H(t.$$.fragment),C(e,"class",l=n[36].value.allowInnerBlocks?"":"text-red-500")},m(s,o){R(s,e,o),V(t,e,null),i=!0},p(s,o){const a={};o[0]&1&&(a.node=s[36]),o[0]&2&&(a.store=s[1]),o[0]&4&&(a.hoveredKeys=s[2]),o[0]&8&&(a.t=s[3]),o[0]&16&&(a.theme=s[4]),o[0]&32&&(a.disabled=s[5]),o[0]&64&&(a.acp=s[6]),o[0]&256&&(a.showNodeId=s[8]),o[0]&128&&(a.onNodeEditRequest=s[7]),o[0]&512&&(a.highlightedNodeKey=s[9]),o[0]&1024&&(a.debug=s[10]),t.$set(a),(!i||o[0]&1&&l!==(l=s[36].value.allowInnerBlocks?"":"text-red-500"))&&C(e,"class",l)},i(s){i||(k(t.$$.fragment,s),i=!0)},o(s){p(t.$$.fragment,s),i=!1},d(s){s&&T(e),P(t)}}}function Xn(n){let e,t,l,i,s,o,a,r,u,f,c;function v(){return n[27](n[36])}l=new nn({props:{class:"rounded-bl",ariaLabel:n[3]("node_edit"),theme:n[4],disabled:n[5],$$slots:{default:[Ml]},$$scope:{ctx:n}}}),l.$on("click",v);let d=n[36].value.allowInnerBlocks&&Yn(n);function g(){return n[29](n[36])}o=new nn({props:{ariaLabel:n[3]("node_duplicate"),theme:n[4],disabled:n[5],$$slots:{default:[Dl]},$$scope:{ctx:n}}}),o.$on("click",g);function _(){return n[30](n[36])}return r=new nn({props:{ariaLabel:n[3]("node_remove"),class:"rounded-br",theme:n[4],disabled:n[5],$$slots:{default:[Kl]},$$scope:{ctx:n}}}),r.$on("click",_),{c(){var b,h;e=D("div"),t=D("div"),H(l.$$.fragment),i=A(),d&&d.c(),s=A(),H(o.$$.fragment),a=A(),H(r.$$.fragment),C(t,"class","flex items-center h-full"),C(e,"class",u=te(`
						absolute leading-none
						top-[100%] -right-[3px] z-10
						bg-black
						${((h=(b=n[4])==null?void 0:b.hover_control)==null?void 0:h.box)||""}
						rounded-b
						transition-all
					`))},m(b,h){R(b,e,h),K(e,t),V(l,t,null),K(t,i),d&&d.m(t,null),K(t,s),V(o,t,null),K(t,a),V(r,t,null),c=!0},p(b,h){var S,q;n=b;const E={};h[0]&8&&(E.ariaLabel=n[3]("node_edit")),h[0]&16&&(E.theme=n[4]),h[0]&32&&(E.disabled=n[5]),h[1]&1024&&(E.$$scope={dirty:h,ctx:n}),l.$set(E),n[36].value.allowInnerBlocks?d?(d.p(n,h),h[0]&1&&k(d,1)):(d=Yn(n),d.c(),k(d,1),d.m(t,s)):d&&(Y(),p(d,1,1,()=>{d=null}),Q());const w={};h[0]&8&&(w.ariaLabel=n[3]("node_duplicate")),h[0]&16&&(w.theme=n[4]),h[0]&32&&(w.disabled=n[5]),h[1]&1024&&(w.$$scope={dirty:h,ctx:n}),o.$set(w);const O={};h[0]&8&&(O.ariaLabel=n[3]("node_remove")),h[0]&16&&(O.theme=n[4]),h[0]&32&&(O.disabled=n[5]),h[1]&1024&&(O.$$scope={dirty:h,ctx:n}),r.$set(O),(!c||h[0]&16&&u!==(u=te(`
						absolute leading-none
						top-[100%] -right-[3px] z-10
						bg-black
						${((q=(S=n[4])==null?void 0:S.hover_control)==null?void 0:q.box)||""}
						rounded-b
						transition-all
					`)))&&C(e,"class",u)},i(b){c||(k(l.$$.fragment,b),k(d),k(o.$$.fragment,b),k(r.$$.fragment,b),b&&_t(()=>{c&&(f||(f=ln(e,Sn,{},!0)),f.run(1))}),c=!0)},o(b){p(l.$$.fragment,b),p(d),p(o.$$.fragment,b),p(r.$$.fragment,b),b&&(f||(f=ln(e,Sn,{},!1)),f.run(0)),c=!1},d(b){b&&T(e),P(l),d&&d.d(),P(o),P(r),b&&f&&f.end()}}}function Ml(n){let e,t=yl({size:16})+"",l;return{c(){e=new Re(!1),l=oe(),e.a=l},m(i,s){e.m(t,i,s),R(i,l,s)},p:$,d(i){i&&(T(l),e.d())}}}function Yn(n){let e,t;function l(){return n[28](n[36])}return e=new nn({props:{ariaLabel:n[3]("node_add"),theme:n[4],disabled:n[5],$$slots:{default:[Ll]},$$scope:{ctx:n}}}),e.$on("click",l),{c(){H(e.$$.fragment)},m(i,s){V(e,i,s),t=!0},p(i,s){n=i;const o={};s[0]&8&&(o.ariaLabel=n[3]("node_add")),s[0]&16&&(o.theme=n[4]),s[0]&32&&(o.disabled=n[5]),s[1]&1024&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){P(e,i)}}}function Ll(n){let e,t=pl({size:16})+"",l;return{c(){e=new Re(!1),l=oe(),e.a=l},m(i,s){e.m(t,i,s),R(i,l,s)},p:$,d(i){i&&(T(l),e.d())}}}function Dl(n){let e,t=wl({size:16})+"",l;return{c(){e=new Re(!1),l=oe(),e.a=l},m(i,s){e.m(t,i,s),R(i,l,s)},p:$,d(i){i&&(T(l),e.d())}}}function Kl(n){let e,t=Cl({size:16})+"",l;return{c(){e=new Re(!1),l=oe(),e.a=l},m(i,s){e.m(t,i,s),R(i,l,s)},p:$,d(i){i&&(T(l),e.d())}}}function Qn(n,e){var be;let t,l,i,s,o,a,r=bl({size:21})+"",u,f,c,v,d,g,_,b,h,E,w,O,S,q,G,x,j,M,B,se,I=!e[40]&&Gn(e);c=new Il({props:{value:e[36].value,key:e[36].key,store:e[1],disabled:e[5],showNodeId:e[8],onNodeEditRequest:e[7],t:e[3]}});let L=((be=e[36].children)==null?void 0:be.length)&&Un(e);function le(...Z){return e[26](e[37],...Z)}let W=!e[5]&&e[38]&&Xn(e);function fe(){return e[31](e[36])}function ve(){return e[32](e[36])}return S=new wt({props:{node:e[0],debug:e[10],dropzoneEnabled:e[22](e[0])}}),G=new vt({props:{id:e[0].key,store:e[1],index:e[40],disabled:e[5]||!e[22](e[0])}}),G.$on("dropped",e[33]),{key:n,first:null,c(){var Z,y,J,ae,ee,z,N,Ee;t=oe(),I&&I.c(),l=A(),i=D("li"),s=D("div"),o=D("div"),a=D("div"),u=A(),f=D("div"),H(c.$$.fragment),v=A(),L&&L.c(),b=A(),W&&W.c(),w=A(),O=D("li"),H(S.$$.fragment),q=A(),H(G.$$.fragment),x=A(),C(a,"class","flex flex-col justify-center p-0 opacity-40"),F(a,"hidden",e[5]),F(a,"cursor-grab",!e[5]&&e[14]!==e[37]),F(a,"cursor-grabbing",!e[5]&&e[14]===e[37]),C(f,"class","flex-1 p-2"),C(o,"class","flex w-full"),C(s,"data-content-builder-node-highlighted",d=e[9]===e[36].key?!0:void 0),F(s,"bg-gray-300",!e[5]&&e[14]===e[37]),C(i,"class",h=te("select-none relative",((Z=e[4])==null?void 0:Z.li)||"",e[38]?"border-solid":"border-dashed",e[38]?((y=e[4])==null?void 0:y.li_hi)||"border-black":((J=e[4])==null?void 0:J.li_low)||"border-gray-300","border-[3px] rounded-t rounded-l relative block",e[13]===e[37]&&" border-black border-solid","transition-all	duration-500")),C(i,"role","group"),C(i,"data-content-builder-node-hidden",E=(ee=(ae=e[36].value)==null?void 0:ae.props)!=null&&ee.hidden?!0:void 0),F(i,"mx-4",!e[0].isRoot),C(O,"data-content-builder-node-debug",j=JSON.stringify({isRoot:e[0].isRoot,parentIsRoot:(z=e[0].parent)==null?void 0:z.isRoot,parentAllowInnerBlocks:(Ee=(N=e[0].parent)==null?void 0:N.value)==null?void 0:Ee.allowInnerBlocks})),this.first=t},m(Z,y){var J;R(Z,t,y),I&&I.m(Z,y),R(Z,l,y),R(Z,i,y),K(i,s),K(s,o),K(o,a),a.innerHTML=r,K(o,u),K(o,f),V(c,f,null),K(s,v),L&&L.m(s,null),K(i,b),W&&W.m(i,null),R(Z,w,y),R(Z,O,y),V(S,O,null),K(O,q),V(G,O,null),K(O,x),M=!0,B||(se=[ne(a,"mousedown",e[24]),ne(a,"mouseup",e[25]),Le(g=Jt.call(null,s,{enabled:e[12]&&!e[5]&&e[38],id:e[37],payload:{source:e[36].key},effectAllowed:"move",isDragged:e[19]})),Le(_=mt.call(null,s,{enabled:!!(e[36].value.allowInnerBlocks&&!((J=e[36].children)!=null&&J.length)),id:e[37],onDrop:le,isDraggedOver:e[20]})),ne(i,"pointerenter",fe),ne(i,"pointerleave",ve)],B=!0)},p(Z,y){var z,N,Ee,Ne,Ie,Oe,ce,me,ge,Te;e=Z,e[40]?I&&(Y(),p(I,1,1,()=>{I=null}),Q()):I?(I.p(e,y),y[0]&1&&k(I,1)):(I=Gn(e),I.c(),k(I,1),I.m(l.parentNode,l)),(!M||y[0]&32)&&F(a,"hidden",e[5]),(!M||y[0]&16417)&&F(a,"cursor-grab",!e[5]&&e[14]!==e[37]),(!M||y[0]&16417)&&F(a,"cursor-grabbing",!e[5]&&e[14]===e[37]);const J={};y[0]&1&&(J.value=e[36].value),y[0]&1&&(J.key=e[36].key),y[0]&2&&(J.store=e[1]),y[0]&32&&(J.disabled=e[5]),y[0]&256&&(J.showNodeId=e[8]),y[0]&128&&(J.onNodeEditRequest=e[7]),y[0]&8&&(J.t=e[3]),c.$set(J),(z=e[36].children)!=null&&z.length?L?(L.p(e,y),y[0]&1&&k(L,1)):(L=Un(e),L.c(),k(L,1),L.m(s,null)):L&&(Y(),p(L,1,1,()=>{L=null}),Q()),(!M||y[0]&513&&d!==(d=e[9]===e[36].key?!0:void 0))&&C(s,"data-content-builder-node-highlighted",d),g&&He(g.update)&&y[0]&6177&&g.update.call(null,{enabled:e[12]&&!e[5]&&e[38],id:e[37],payload:{source:e[36].key},effectAllowed:"move",isDragged:e[19]}),_&&He(_.update)&&y[0]&36867&&_.update.call(null,{enabled:!!(e[36].value.allowInnerBlocks&&!((N=e[36].children)!=null&&N.length)),id:e[37],onDrop:le,isDraggedOver:e[20]}),(!M||y[0]&16417)&&F(s,"bg-gray-300",!e[5]&&e[14]===e[37]),!e[5]&&e[38]?W?(W.p(e,y),y[0]&2081&&k(W,1)):(W=Xn(e),W.c(),k(W,1),W.m(i,null)):W&&(Y(),p(W,1,1,()=>{W=null}),Q()),(!M||y[0]&10289&&h!==(h=te("select-none relative",((Ee=e[4])==null?void 0:Ee.li)||"",e[38]?"border-solid":"border-dashed",e[38]?((Ne=e[4])==null?void 0:Ne.li_hi)||"border-black":((Ie=e[4])==null?void 0:Ie.li_low)||"border-gray-300","border-[3px] rounded-t rounded-l relative block",e[13]===e[37]&&" border-black border-solid","transition-all	duration-500")))&&C(i,"class",h),(!M||y[0]&1&&E!==(E=(ce=(Oe=e[36].value)==null?void 0:Oe.props)!=null&&ce.hidden?!0:void 0))&&C(i,"data-content-builder-node-hidden",E),(!M||y[0]&10289)&&F(i,"mx-4",!e[0].isRoot);const ae={};y[0]&1&&(ae.node=e[0]),y[0]&1024&&(ae.debug=e[10]),y[0]&1&&(ae.dropzoneEnabled=e[22](e[0])),S.$set(ae);const ee={};y[0]&1&&(ee.id=e[0].key),y[0]&2&&(ee.store=e[1]),y[0]&1&&(ee.index=e[40]),y[0]&33&&(ee.disabled=e[5]||!e[22](e[0])),G.$set(ee),(!M||y[0]&1&&j!==(j=JSON.stringify({isRoot:e[0].isRoot,parentIsRoot:(me=e[0].parent)==null?void 0:me.isRoot,parentAllowInnerBlocks:(Te=(ge=e[0].parent)==null?void 0:ge.value)==null?void 0:Te.allowInnerBlocks})))&&C(O,"data-content-builder-node-debug",j)},i(Z){M||(k(I),k(c.$$.fragment,Z),k(L),k(W),k(S.$$.fragment,Z),k(G.$$.fragment,Z),M=!0)},o(Z){p(I),p(c.$$.fragment,Z),p(L),p(W),p(S.$$.fragment,Z),p(G.$$.fragment,Z),M=!1},d(Z){Z&&(T(t),T(l),T(i),T(w),T(O)),I&&I.d(Z),P(c),L&&L.d(),W&&W.d(),P(S),P(G),B=!1,on(se)}}}function ql(n){var i,s;let e,t,l=((s=(i=n[0])==null?void 0:i.children)==null?void 0:s.length)&&Zn(n);return{c(){l&&l.c(),e=oe()},m(o,a){l&&l.m(o,a),R(o,e,a),t=!0},p(o,a){var r,u;(u=(r=o[0])==null?void 0:r.children)!=null&&u.length?l?(l.p(o,a),a[0]&1&&k(l,1)):(l=Zn(o),l.c(),k(l,1),l.m(e.parentNode,e)):l&&(Y(),p(l,1,1,()=>{l=null}),Q())},i(o){t||(k(l),t=!0)},o(o){p(l),t=!1},d(o){o&&T(e),l&&l.d(o)}}}function Al(n,e,t){let l,i=$,s=()=>(i(),i=Ae(g,z=>t(11,l=z)),g),o,a,r,u,f=$,c=()=>(f(),f=Ae(d,z=>t(15,u=z)),d);n.$$.on_destroy.push(()=>i()),n.$$.on_destroy.push(()=>f()),De("ContentNode"),Ue();let{node:v}=e,{store:d}=e;c();let{hoveredKeys:g=je([])}=e;s();let{t:_}=e,{theme:b}=e,{disabled:h=!1}=e,{acp:E=null}=e,{onNodeEditRequest:w}=e,{showNodeId:O=!1}=e,{highlightedNodeKey:S=void 0}=e,{debug:q=!1}=e;const G=z=>{ie(g,l=[...l,z.key],l)},x=z=>{ie(g,l=[...l.filter(N=>N!==z.key)],l)},j=je(!1);Se(n,j,z=>t(12,o=z));const M=je(null);Se(n,M,z=>t(14,r=z));const B=je(null);Se(n,B,z=>t(13,a=z));const se=new Je,I=z=>{var N;return z.isRoot||((N=v==null?void 0:v.value)==null?void 0:N.allowInnerBlocks)},L=()=>ie(j,o=!1,o),le=()=>ie(j,o=!0,o),W=()=>ie(j,o=!1,o),fe=(z,N,Ee)=>{var me;const Ne=(me=N.payload)==null?void 0:me.source,Ie=z;se.restore(u.data);const Oe=se.find(Ne),ce=se.find(Ie);Oe&&ce&&Oe!==ce&&d.move(Ne,Ie),ie(j,o=!1,o)},ve=async z=>w(z.key,z.value),be=z=>d.add(z.key),Z=z=>d.duplicate(z.key),y=async z=>{const N=Ne=>({html:yt(_(Ne),{"{{label}}":z.value.label})});await(E?gt(E,{title:N("node_remove_confirm_title"),variant:"warn"}):confirm)(N("node_remove_confirm"))&&d.remove(z.key)},J=z=>G(z),ae=z=>x(z),ee=()=>ie(j,o=!1,o);return n.$$set=z=>{"node"in z&&t(0,v=z.node),"store"in z&&c(t(1,d=z.store)),"hoveredKeys"in z&&s(t(2,g=z.hoveredKeys)),"t"in z&&t(3,_=z.t),"theme"in z&&t(4,b=z.theme),"disabled"in z&&t(5,h=z.disabled),"acp"in z&&t(6,E=z.acp),"onNodeEditRequest"in z&&t(7,w=z.onNodeEditRequest),"showNodeId"in z&&t(8,O=z.showNodeId),"highlightedNodeKey"in z&&t(9,S=z.highlightedNodeKey),"debug"in z&&t(10,q=z.debug)},[v,d,g,_,b,h,E,w,O,S,q,l,o,a,r,u,G,x,j,M,B,se,I,L,le,W,fe,ve,be,Z,y,J,ae,ee]}class pt extends pe{constructor(e){super(),Ce(this,e,Al,ql,ke,{node:0,store:1,hoveredKeys:2,t:3,theme:4,disabled:5,acp:6,onNodeEditRequest:7,showNodeId:8,highlightedNodeKey:9,debug:10},null,[-1,-1])}}function Hl(n){let e,t,l,i=n[5]("empty")+"",s,o;return{c(){e=D("div"),t=D("button"),l=D("span"),C(l,"class","opacity-75 group-hover:opacity-100"),C(t,"type","button"),C(t,"class","text-sm mx-auto text-gray-800 border-dashed border-[3px] border-gray-300 hover:border-black focus:outline-none focus:border-black rounded-md p-2 px-3 flex items-center justify-center leading-none group "),C(e,"class","text-center")},m(a,r){R(a,e,r),K(e,t),K(t,l),l.innerHTML=i,s||(o=ne(t,"click",n[15]),s=!0)},p:$,i:$,o:$,d(a){a&&T(e),s=!1,o()}}}function Vl(n){let e,t;return e=new pt({props:{node:n[10].root,store:n[2],t:n[5],theme:n[3],disabled:n[6],acp:n[4],onNodeEditRequest:n[7],showNodeId:n[8],highlightedNodeKey:n[0],debug:n[8]}}),{c(){H(e.$$.fragment)},m(l,i){V(e,l,i),t=!0},p(l,i){const s={};i&1024&&(s.node=l[10].root),i&4&&(s.store=l[2]),i&8&&(s.theme=l[3]),i&64&&(s.disabled=l[6]),i&16&&(s.acp=l[4]),i&128&&(s.onNodeEditRequest=l[7]),i&256&&(s.showNodeId=l[8]),i&1&&(s.highlightedNodeKey=l[0]),i&256&&(s.debug=l[8]),e.$set(s)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Pl(n){let e,t,l,i,s;const o=[Vl,Hl],a=[];function r(u,f){return u[9].size>1?0:1}return t=r(n),l=a[t]=o[t](n),{c(){e=D("div"),l.c(),C(e,"class",i=te(`${n[1]}`))},m(u,f){R(u,e,f),a[t].m(e,null),s=!0},p(u,[f]){let c=t;t=r(u),t===c?a[t].p(u,f):(Y(),p(a[c],1,1,()=>{a[c]=null}),Q(),l=a[t],l?l.p(u,f):(l=a[t]=o[t](u),l.c()),k(l,1),l.m(e,null)),(!s||f&2&&i!==(i=te(`${u[1]}`)))&&C(e,"class",i)},i(u){s||(k(l),s=!0)},o(u){p(l),s=!1},d(u){u&&T(e),a[t].d()}}}function Wl(n,e,t){let l,i,s=$,o=()=>(s(),s=Ae(r,S=>t(9,i=S)),r);n.$$.on_destroy.push(()=>s()),De("ContentBuilder");let{class:a=""}=e,{store:r}=e;o();let{i18n:u={empty:"Click here to append the first content block",node_remove:"Remove this content block",node_remove_confirm_title:'Are you sure to delete <b>"{{label}}"</b>?',node_remove_confirm:['This operation removes the content block <b>"{{label}}"</b> and all its inner blocks (if any).',"There is no undo. Continue?"].join(" "),node_add:"Add a new content block inside this block",node_duplicate:"Duplicate this content block",node_edit:"Edit this content block",node_edit_drag:"Click to edit this content block or drag to move",label_label:"Label",label_desc:"For your internal reference only.",type_label:"Content block type",type_desc:"This will affect how this content block is rendered. Note that changing the type resets all current block properties.",props_fieldset_legend:"Content block properties",html_label:"Block inner HTML (advanced)",html_desc:"Be careful. You can break things.",style_label:"Block CSS (advanced)",style_desc:"Note that some content blocks may ignore this value.",class_label:"Block classes (advanced)",class_desc:"Note that some content blocks may ignore this value.",hidden_label:"Hidden",hidden_desc:"If checked, this block including its inner blocks will not be rendered.",allow_inner_label:"Allow this block to contain inner blocks",allow_inner_desc:"If unchecked, any existing inner blocks will not be rendered, but will remain intact."}}=e,{theme:f={}}=e,{notifications:c=void 0}=e,{acp:v=void 0}=e;const d=(S,q={})=>(u==null?void 0:u[S])??S;let{disabled:g=!1}=e,{highlightedNodeKey:_=void 0}=e;function b(S){t(0,_=S)}async function h(S,q){if(v){r.resetError();const G=await new Promise(x=>{v==null||v.prompt(j=>{try{j=JSON.parse(j),v.close(),x(j)}catch{v.setHeadValue(j),(c||console).error("Invalid JSON data. Can't continue...")}},{content:"Valid JSON is required. Edit at your own risk.",value:JSON.stringify(q,null,2),promptFieldProps:{type:"textarea",class:{input:"font-mono"}},iconFn:!1,title:{html:['<span class="flex items-center justify-between">',"<span>Advanced content block data editor</span>",`<code class="text-xs opacity-50 font-normal">${S}</code>`,"</span>"].join(" ")}})});return G&&r.edit(S,G),!!G}else return console.warn("Default `defaultOnNodeEdit` is a no-op, because `acp` instance was not provided."),!1}let{onNodeEditRequest:E=h}=e,{debug:w=!1}=e;const O=()=>r.add(null);return n.$$set=S=>{"class"in S&&t(1,a=S.class),"store"in S&&o(t(2,r=S.store)),"i18n"in S&&t(11,u=S.i18n),"theme"in S&&t(3,f=S.theme),"notifications"in S&&t(12,c=S.notifications),"acp"in S&&t(4,v=S.acp),"disabled"in S&&t(6,g=S.disabled),"highlightedNodeKey"in S&&t(0,_=S.highlightedNodeKey),"onNodeEditRequest"in S&&t(7,E=S.onNodeEditRequest),"debug"in S&&t(8,w=S.debug)},n.$$.update=()=>{n.$$.dirty&512&&t(10,l=Je.factory(i.data||"",!0))},[_,a,r,f,v,d,g,E,w,i,l,u,c,b,h,O]}class Jl extends pe{constructor(e){super(),Ce(this,e,Wl,Pl,ke,{class:1,store:2,i18n:11,theme:3,notifications:12,acp:4,t:5,disabled:6,highlightedNodeKey:0,setHighlightedNodeKey:13,defaultOnNodeEdit:14,onNodeEditRequest:7,debug:8})}get t(){return this.$$.ctx[5]}get setHighlightedNodeKey(){return this.$$.ctx[13]}get defaultOnNodeEdit(){return this.$$.ctx[14]}}const Fl={label:"Default",value:"default",description:"",props:[{name:"html",inputType:"textarea",value:"",inputProps:{placeholder:"<b>Hello, World!</b>"}},{name:"style",inputType:"textarea",value:"",inputProps:{placeholder:"color: red;"}}],allowInnerBlocks:{value:!0,hidden:!1}};function $n(n,e,t){const l=n.slice();l[68]=e[t][0],l[69]=e[t][1],l[71]=e,l[72]=t;const i=l[37](l[68],l[69].inputType,l[69].inputProps);return l[70]=i,l}function xn(n){let e=n[19].key,t,l,i=ut(n);return{c(){i.c(),t=oe()},m(s,o){i.m(s,o),R(s,t,o),l=!0},p(s,o){o[0]&524288&&ke(e,e=s[19].key)?(Y(),p(i,1,1,$),Q(),i=ut(s),i.c(),k(i,1),i.m(t.parentNode,t)):i.p(s,o)},i(s){l||(k(i),l=!0)},o(s){p(i),l=!1},d(s){s&&T(t),i.d(s)}}}function Zl(n){let e,t,l,i,s;return{c(){e=D("span"),t=We(n[0]),C(e,"slot","input_after"),C(e,"class","text-xs font-mono px-2 flex items-center opacity-50")},m(o,a){R(o,e,a),K(e,t),i||(s=Le(l=Ye.call(null,e,{content:"Internal block ID",getAppendChildTarget:n[12],boundaryRoot:n[24]})),i=!0)},p(o,a){a[0]&1&&Xe(t,o[0]),l&&He(l.update)&&a[0]&16781312&&l.update.call(null,{content:"Internal block ID",getAppendChildTarget:o[12],boundaryRoot:o[24]})},d(o){o&&T(e),i=!1,s()}}}function Gl(n){let e,t,l;function i(o){n[54](o)}let s={type:"text",label:n[14]("type_label"),size:n[35](n[13],"sm","md"),class:n[36].text.props.class,disabled:!0};return n[22]!==void 0&&(s.value=n[22]),e=new sn({props:s}),ue.push(()=>Be(e,"value",i)),{c(){H(e.$$.fragment)},m(o,a){V(e,o,a),l=!0},p(o,a){const r={};a[0]&16384&&(r.label=o[14]("type_label")),a[0]&8192&&(r.size=o[35](o[13],"sm","md")),!t&&a[0]&4194304&&(t=!0,r.value=o[22],Me(()=>t=!1)),e.$set(r)},i(o){l||(k(e.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function Ul(n){let e,t,l;function i(o){n[53](o)}let s={label:n[14]("type_label"),description:n[14]("type_desc"),class:n[36].select.props.class,options:n[20].map(ft),size:n[35](n[13],"sm","md")};return n[22]!==void 0&&(s.value=n[22]),e=new kt({props:s}),ue.push(()=>Be(e,"value",i)),e.$on("change",n[34]),{c(){H(e.$$.fragment)},m(o,a){V(e,o,a),l=!0},p(o,a){const r={};a[0]&16384&&(r.label=o[14]("type_label")),a[0]&16384&&(r.description=o[14]("type_desc")),a[0]&1048576&&(r.options=o[20].map(ft)),a[0]&8192&&(r.size=o[35](o[13],"sm","md")),!t&&a[0]&4194304&&(t=!0,r.value=o[22],Me(()=>t=!1)),e.$set(r)},i(o){l||(k(e.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),l=!1},d(o){P(e,o)}}}function et(n){var l;let e,t;return e=new il({props:{legend:(l=n[18])==null?void 0:l.label,class:{box:`mb-4 pb-2 ${n[3]}`},$$slots:{default:[Xl]},$$scope:{ctx:n}}}),{c(){H(e.$$.fragment)},m(i,s){V(e,i,s),t=!0},p(i,s){var a;const o={};s[0]&262144&&(o.legend=(a=i[18])==null?void 0:a.label),s[0]&8&&(o.class={box:`mb-4 pb-2 ${i[3]}`}),s[0]&2367504|s[2]&2048&&(o.$$scope={dirty:s,ctx:i}),e.$set(o)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){P(e,i)}}}function nt(n){let e,t=n[18].description+"",l;return{c(){e=D("div"),C(e,"class",l=te("-mt-2 mb-3 opacity-50",n[4],n[35](n[13],"text-xs","text-sm")))},m(i,s){R(i,e,s),e.innerHTML=t},p(i,s){s[0]&262144&&t!==(t=i[18].description+"")&&(e.innerHTML=t),s[0]&8208&&l!==(l=te("-mt-2 mb-3 opacity-50",i[4],i[35](i[13],"text-xs","text-sm")))&&C(e,"class",l)},d(i){i&&T(e)}}}function tt(n){let e,t,l,i,s,o;const a=[n[70].props||{},{name:n[68]},{size:n[35](n[13],"sm","md")},{validate:!0}];function r(d){n[55](d,n[68])}function u(d){n[56](d,n[68])}function f(d){n[57](d,n[68])}var c=n[70].component;function v(d,g){let _={};for(let b=0;b<a.length;b+=1)_=En(_,a[b]);return g!==void 0&&g[0]&270336|g[1]&80&&(_=En(_,Rn(a,[g[0]&262144|g[1]&64&&Tn(d[70].props||{}),g[0]&262144&&{name:d[68]},g[0]&8192|g[1]&16&&{size:d[35](d[13],"sm","md")},a[3]]))),d[21][d[68]]!==void 0&&(_.value=d[21][d[68]]),d[21][d[68]]!==void 0&&(_.group=d[21][d[68]]),d[21][d[68]]!==void 0&&(_.checked=d[21][d[68]]),{props:_}}return c&&(e=Bn(c,v(n)),ue.push(()=>Be(e,"value",r)),ue.push(()=>Be(e,"group",u)),ue.push(()=>Be(e,"checked",f)),e.$on("change",n[34])),{c(){e&&H(e.$$.fragment),s=oe()},m(d,g){e&&V(e,d,g),R(d,s,g),o=!0},p(d,g){if(n=d,g[0]&262144&&c!==(c=n[70].component)){if(e){Y();const _=e;p(_.$$.fragment,1,0,()=>{P(_,1)}),Q()}c?(e=Bn(c,v(n,g)),ue.push(()=>Be(e,"value",r)),ue.push(()=>Be(e,"group",u)),ue.push(()=>Be(e,"checked",f)),e.$on("change",n[34]),H(e.$$.fragment),k(e.$$.fragment,1),V(e,s.parentNode,s)):e=null}else if(c){const _=g[0]&270336|g[1]&80?Rn(a,[g[0]&262144|g[1]&64&&Tn(n[70].props||{}),g[0]&262144&&{name:n[68]},g[0]&8192|g[1]&16&&{size:n[35](n[13],"sm","md")},a[3]]):{};!t&&g[0]&2359296&&(t=!0,_.value=n[21][n[68]],Me(()=>t=!1)),!l&&g[0]&2359296&&(l=!0,_.group=n[21][n[68]],Me(()=>l=!1)),!i&&g[0]&2359296&&(i=!0,_.checked=n[21][n[68]],Me(()=>i=!1)),e.$set(_)}},i(d){o||(e&&k(e.$$.fragment,d),o=!0)},o(d){e&&p(e.$$.fragment,d),o=!1},d(d){d&&T(s),e&&P(e,d)}}}function Xl(n){var r,u,f;let e,t,l,i=((r=n[18])==null?void 0:r.description)&&nt(n),s=Ge(((f=(u=n[18])==null?void 0:u.props)==null?void 0:f.entries())||[]),o=[];for(let c=0;c<s.length;c+=1)o[c]=tt($n(n,s,c));const a=c=>p(o[c],1,1,()=>{o[c]=null});return{c(){i&&i.c(),e=A();for(let c=0;c<o.length;c+=1)o[c].c();t=oe()},m(c,v){i&&i.m(c,v),R(c,e,v);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(c,v);R(c,t,v),l=!0},p(c,v){var d,g,_;if((d=c[18])!=null&&d.description?i?i.p(c,v):(i=nt(c),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),v[0]&2367488|v[1]&88){s=Ge(((_=(g=c[18])==null?void 0:g.props)==null?void 0:_.entries())||[]);let b;for(b=0;b<s.length;b+=1){const h=$n(c,s,b);o[b]?(o[b].p(h,v),k(o[b],1)):(o[b]=tt(h),o[b].c(),k(o[b],1),o[b].m(t.parentNode,t))}for(Y(),b=s.length;b<o.length;b+=1)a(b);Q()}},i(c){if(!l){for(let v=0;v<s.length;v+=1)k(o[v]);l=!0}},o(c){o=o.filter(Boolean);for(let v=0;v<o.length;v+=1)p(o[v]);l=!1},d(c){c&&(T(e),T(t)),i&&i.d(c),bt(o,c)}}}function lt(n){var a,r;let e,t,l,i;function s(u){n[59](u)}let o={label:n[14]("allow_inner_label"),description:n[14]("allow_inner_desc"),disabled:(r=(a=n[18])==null?void 0:a.allowInnerBlocks)==null?void 0:r.hidden,size:n[35](n[13],"sm","md"),class:n[36].checkbox.props.class};return n[25]!==void 0&&(o.checked=n[25]),t=new vn({props:o}),ue.push(()=>Be(t,"checked",s)),t.$on("change",n[34]),{c(){var u,f;e=D("div"),H(t.$$.fragment),F(e,"opacity-50",(f=(u=n[18])==null?void 0:u.allowInnerBlocks)==null?void 0:f.hidden)},m(u,f){R(u,e,f),V(t,e,null),i=!0},p(u,f){var v,d,g,_;const c={};f[0]&16384&&(c.label=u[14]("allow_inner_label")),f[0]&16384&&(c.description=u[14]("allow_inner_desc")),f[0]&262144&&(c.disabled=(d=(v=u[18])==null?void 0:v.allowInnerBlocks)==null?void 0:d.hidden),f[0]&8192&&(c.size=u[35](u[13],"sm","md")),!l&&f[0]&33554432&&(l=!0,c.checked=u[25],Me(()=>l=!1)),t.$set(c),(!i||f[0]&262144)&&F(e,"opacity-50",(_=(g=u[18])==null?void 0:g.allowInnerBlocks)==null?void 0:_.hidden)},i(u){i||(k(t.$$.fragment,u),i=!0)},o(u){p(t.$$.fragment,u),i=!1},d(u){u&&T(e),P(t)}}}function it(n){var v;let e,t,l,i,s,o,a,r=n[6]&&st(n),u=n[8]&&ot(n),f=n[7]&&at(n),c=((v=n[23])==null?void 0:v.isSaving)&&rt();return{c(){e=D("div"),t=D("div"),r&&r.c(),l=A(),u&&u.c(),i=A(),f&&f.c(),s=A(),c&&c.c(),C(t,"class","flex-1"),C(e,"class",o=te("space-x-2 mt-8 flex items-start justify-center",n[2]))},m(d,g){R(d,e,g),K(e,t),r&&r.m(t,null),K(t,l),u&&u.m(t,null),K(t,i),f&&f.m(t,null),K(e,s),c&&c.m(e,null),a=!0},p(d,g){var _;d[6]?r?(r.p(d,g),g[0]&64&&k(r,1)):(r=st(d),r.c(),k(r,1),r.m(t,l)):r&&(Y(),p(r,1,1,()=>{r=null}),Q()),d[8]?u?(u.p(d,g),g[0]&256&&k(u,1)):(u=ot(d),u.c(),k(u,1),u.m(t,i)):u&&(Y(),p(u,1,1,()=>{u=null}),Q()),d[7]?f?(f.p(d,g),g[0]&128&&k(f,1)):(f=at(d),f.c(),k(f,1),f.m(t,null)):f&&(Y(),p(f,1,1,()=>{f=null}),Q()),(_=d[23])!=null&&_.isSaving?c||(c=rt(),c.c(),c.m(e,null)):c&&(c.d(1),c=null),(!a||g[0]&4&&o!==(o=te("space-x-2 mt-8 flex items-start justify-center",d[2])))&&C(e,"class",o)},i(d){a||(k(r),k(u),k(f),a=!0)},o(d){p(r),p(u),p(f),a=!1},d(d){d&&T(e),r&&r.d(),u&&u.d(),f&&f.d(),c&&c.d()}}}function st(n){let e,t,l,i,s,o;return t=new Pe({props:{size:n[35](n[13],"sm","md"),"data-content-editor-edit":!0,class:n[10],variant:n[11],$$slots:{default:[Yl]},$$scope:{ctx:n}}}),t.$on("click",n[16]),{c(){e=D("span"),H(t.$$.fragment)},m(a,r){R(a,e,r),V(t,e,null),i=!0,s||(o=Le(l=Ye.call(null,e,{content:"Advanced raw data editor",getAppendChildTarget:n[12],boundaryRoot:n[24]})),s=!0)},p(a,r){const u={};r[0]&8192&&(u.size=a[35](a[13],"sm","md")),r[0]&1024&&(u.class=a[10]),r[0]&2048&&(u.variant=a[11]),r[2]&2048&&(u.$$scope={dirty:r,ctx:a}),t.$set(u),l&&He(l.update)&&r[0]&16781312&&l.update.call(null,{content:"Advanced raw data editor",getAppendChildTarget:a[12],boundaryRoot:a[24]})},i(a){i||(k(t.$$.fragment,a),i=!0)},o(a){p(t.$$.fragment,a),i=!1},d(a){a&&T(e),P(t),s=!1,o()}}}function Yl(n){let e,t=gl({size:16})+"",l;return{c(){e=new Re(!1),l=oe(),e.a=l},m(i,s){e.m(t,i,s),R(i,l,s)},p:$,d(i){i&&(T(l),e.d())}}}function ot(n){let e,t,l,i,s,o;return t=new Pe({props:{size:n[35](n[13],"sm","md"),"data-content-editor-remove":!0,class:n[10],variant:n[11],$$slots:{default:[Ql]},$$scope:{ctx:n}}}),t.$on("click",n[17]),{c(){e=D("span"),H(t.$$.fragment)},m(a,r){R(a,e,r),V(t,e,null),i=!0,s||(o=Le(l=Ye.call(null,e,{content:"Delete this content block",getAppendChildTarget:n[12],boundaryRoot:n[24]})),s=!0)},p(a,r){const u={};r[0]&8192&&(u.size=a[35](a[13],"sm","md")),r[0]&1024&&(u.class=a[10]),r[0]&2048&&(u.variant=a[11]),r[2]&2048&&(u.$$scope={dirty:r,ctx:a}),t.$set(u),l&&He(l.update)&&r[0]&16781312&&l.update.call(null,{content:"Delete this content block",getAppendChildTarget:a[12],boundaryRoot:a[24]})},i(a){i||(k(t.$$.fragment,a),i=!0)},o(a){p(t.$$.fragment,a),i=!1},d(a){a&&T(e),P(t),s=!1,o()}}}function Ql(n){let e,t=kl({size:16})+"",l;return{c(){e=new Re(!1),l=oe(),e.a=l},m(i,s){e.m(t,i,s),R(i,l,s)},p:$,d(i){i&&(T(l),e.d())}}}function at(n){let e,t,l,i,s,o;return t=new Pe({props:{size:n[35](n[13],"sm","md"),"data-content-editor-close":!0,class:n[10],variant:n[11],$$slots:{default:[$l]},$$scope:{ctx:n}}}),t.$on("click",n[15]),{c(){e=D("span"),H(t.$$.fragment)},m(a,r){R(a,e,r),V(t,e,null),i=!0,s||(o=Le(l=Ye.call(null,e,{content:"Close this editor",getAppendChildTarget:n[12],boundaryRoot:n[24]})),s=!0)},p(a,r){const u={};r[0]&8192&&(u.size=a[35](a[13],"sm","md")),r[0]&1024&&(u.class=a[10]),r[0]&2048&&(u.variant=a[11]),r[2]&2048&&(u.$$scope={dirty:r,ctx:a}),t.$set(u),l&&He(l.update)&&r[0]&16781312&&l.update.call(null,{content:"Close this editor",getAppendChildTarget:a[12],boundaryRoot:a[24]})},i(a){i||(k(t.$$.fragment,a),i=!0)},o(a){p(t.$$.fragment,a),i=!1},d(a){a&&T(e),P(t),s=!1,o()}}}function $l(n){let e,t=vl({size:16})+"",l;return{c(){e=new Re(!1),l=oe(),e.a=l},m(i,s){e.m(t,i,s),R(i,l,s)},p:$,d(i){i&&(T(l),e.d())}}}function rt(n){let e,t=ml({class:te("animate-spin m-auto inline")})+"";return{c(){e=D("div"),C(e,"class","opacity-25")},m(l,i){R(l,e,i),e.innerHTML=t},d(l){l&&T(e)}}}function ut(n){var B,se;let e,t,l,i,s,o,a,r,u=n[33]((B=n[18])==null?void 0:B.props)||((se=n[18])==null?void 0:se.description),f,c,v,d,g=n[32](n[22]),_,b;function h(I){n[52](I)}let E={type:"text",label:n[14]("label_label"),description:n[14]("label_desc"),size:n[35](n[13],"sm","md"),class:{input:te(n[36].text.props.class.input,"rounded-r-none"),description:n[36].text.props.class.description},$$slots:{input_after:[Zl]},$$scope:{ctx:n}};n[26]!==void 0&&(E.value=n[26]),t=new sn({props:E}),ue.push(()=>Be(t,"value",h)),t.$on("change",n[34]);const w=[Ul,Gl],O=[];function S(I,L){return L[0]&4194304&&(s=null),s==null&&(s=!!I[32](I[22])),s?0:1}o=S(n,[-1,-1,-1]),a=O[o]=w[o](n);let q=u&&et(n);function G(I){n[58](I)}let x={label:n[14]("hidden_label"),description:n[14]("hidden_desc"),size:n[35](n[13],"sm","md"),class:n[36].checkbox.props.class};n[21].hidden!==void 0&&(x.checked=n[21].hidden),c=new vn({props:x}),ue.push(()=>Be(c,"checked",G)),c.$on("change",n[34]);let j=g&&lt(n),M=(n[6]||n[7]||n[8]||n[9])&&it(n);return{c(){e=D("form"),H(t.$$.fragment),i=A(),a.c(),r=A(),q&&q.c(),f=A(),H(c.$$.fragment),d=A(),j&&j.c(),_=A(),M&&M.c(),C(e,"class",n[1])},m(I,L){R(I,e,L),V(t,e,null),K(e,i),O[o].m(e,null),K(e,r),q&&q.m(e,null),K(e,f),V(c,e,null),K(e,d),j&&j.m(e,null),K(e,_),M&&M.m(e,null),n[60](e),b=!0},p(I,L){var ve,be;const le={};L[0]&16384&&(le.label=I[14]("label_label")),L[0]&16384&&(le.description=I[14]("label_desc")),L[0]&8192&&(le.size=I[35](I[13],"sm","md")),L[0]&16781313|L[2]&2048&&(le.$$scope={dirty:L,ctx:I}),!l&&L[0]&67108864&&(l=!0,le.value=I[26],Me(()=>l=!1)),t.$set(le);let W=o;o=S(I,L),o===W?O[o].p(I,L):(Y(),p(O[W],1,1,()=>{O[W]=null}),Q(),a=O[o],a?a.p(I,L):(a=O[o]=w[o](I),a.c()),k(a,1),a.m(e,r)),L[0]&262144&&(u=I[33]((ve=I[18])==null?void 0:ve.props)||((be=I[18])==null?void 0:be.description)),u?q?(q.p(I,L),L[0]&262144&&k(q,1)):(q=et(I),q.c(),k(q,1),q.m(e,f)):q&&(Y(),p(q,1,1,()=>{q=null}),Q());const fe={};L[0]&16384&&(fe.label=I[14]("hidden_label")),L[0]&16384&&(fe.description=I[14]("hidden_desc")),L[0]&8192&&(fe.size=I[35](I[13],"sm","md")),!v&&L[0]&2097152&&(v=!0,fe.checked=I[21].hidden,Me(()=>v=!1)),c.$set(fe),L[0]&4194304&&(g=I[32](I[22])),g?j?(j.p(I,L),L[0]&4194304&&k(j,1)):(j=lt(I),j.c(),k(j,1),j.m(e,_)):j&&(Y(),p(j,1,1,()=>{j=null}),Q()),I[6]||I[7]||I[8]||I[9]?M?(M.p(I,L),L[0]&960&&k(M,1)):(M=it(I),M.c(),k(M,1),M.m(e,null)):M&&(Y(),p(M,1,1,()=>{M=null}),Q()),(!b||L[0]&2)&&C(e,"class",I[1])},i(I){b||(k(t.$$.fragment,I),k(a),k(q),k(c.$$.fragment,I),k(j),k(M),b=!0)},o(I){p(t.$$.fragment,I),p(a),p(q),p(c.$$.fragment,I),p(j),p(M),b=!1},d(I){I&&T(e),P(t),O[o].d(),q&&q.d(),P(c),j&&j.d(),M&&M.d(),n[60](null)}}}function xl(n){let e,t,l=n[19]&&xn(n);return{c(){l&&l.c(),e=oe()},m(i,s){l&&l.m(i,s),R(i,e,s),t=!0},p(i,s){i[19]?l?(l.p(i,s),s[0]&524288&&k(l,1)):(l=xn(i),l.c(),k(l,1),l.m(e.parentNode,e)):l&&(Y(),p(l,1,1,()=>{l=null}),Q())},i(i){t||(k(l),t=!0)},o(i){p(l),t=!1},d(i){i&&T(e),l&&l.d(i)}}}const ei=De("ContentNodeEditor"),ft=n=>({label:n.label||n.value,value:n.value,optgroup:n.optgroup||""});function ni(n,e,t){let l,i,s,o,a,r,u,f,c,v,d=$,g=()=>(d(),d=Ae(j,m=>t(23,v=m)),j);n.$$.on_destroy.push(()=>d());const _=Ue();let{debug:b=!1}=e;const h=(...m)=>b&&ei(...m);let{class:E=""}=e,{buttonBoxClass:w=""}=e,{fieldsetBoxClass:O=""}=e,{fieldsetDescriptionClass:S=""}=e,{selectInputClass:q=""}=e,{notifications:G=void 0}=e,{acp:x=void 0}=e,{store:j}=e;g();let{key:M=""}=e,{builder:B=void 0}=e,{typesConfig:se=[]}=e;function I(m){h("setKey",m),t(0,M=m)}let{afterEdit:L=void 0}=e,{afterClose:le=void 0}=e,{afterRemove:W=void 0}=e,{showButtonEdit:fe=!0}=e,{showButtonClose:ve=!0}=e,{showButtonRemove:be=!0}=e,{showIsSaving:Z=!0}=e,{buttonsClass:y=""}=e,{buttonsVariant:J=""}=e,{tooltipGetAppendChildTarget:ae=void 0}=e,{size:ee="md"}=e,{t:z=(m,U)=>m}=e,{allowClassProp:N=!0}=e;const Ee=m=>{let U=[...m];return m.findIndex(re=>re.name==="style")<0&&U.push({name:"style",inputType:"textarea",value:"",inputProps:{placeholder:"color: red;"}}),N&&m.findIndex(re=>re.name==="class")<0&&U.push({name:"class",inputType:"textarea",value:"",inputProps:{placeholder:"text-red-500"}}),U};function Ne(){t(0,M=""),le==null||le(),_("closed")}async function Ie(){var m;o&&await((m=B==null?void 0:B.defaultOnNodeEdit)==null?void 0:m.call(B,M,a)),L==null||L(),_("edited")}async function Oe(){const m=re=>({html:yt(z(re),{"{{label}}":o==null?void 0:o.value.label})});await(x?gt(x,{title:m("node_remove_confirm_title"),variant:"warn"}):confirm)(m("node_remove_confirm"))&&j.remove(M),W==null||W(),_("removed")}const ce=je("");Se(n,ce,m=>t(22,f=m));const me=je("");Se(n,me,m=>t(26,c=m));const ge=je({});Se(n,ge,m=>t(21,u=m));const Te=je(!0);Se(n,Te,m=>t(25,r=m));const wn=Zt([ce,me,ge,Te],([m,U,re,de])=>({...(o==null?void 0:o.value)||{},type:m,label:U,props:re,allowInnerBlocks:de}));Se(n,wn,m=>t(61,a=m));let he=null;const yn=(m,U=!1)=>{m=U?{}:{...m};const re=(de,_e)=>{h(`setting prop ${de}=${JSON.stringify(_e)}`),m[de]=_e};return he==null||he.props.forEach((de,_e)=>{m[_e]===void 0&&re(_e,de==null?void 0:de.value)}),h("going to apply config props:",m),m},Ct=m=>i.has(m),Nt=m=>{const U=[...(m==null?void 0:m.entries())||[]];if(!U.length)return!1;for(let[re,de]of U)if(de.inputType==="hidden")return!1;return!0};let Ve={};const zt=()=>{o&&(h(`SAVING '${M}'s VALUE TO '`,a),j.edit(M,a),_("saved"))},Bt=()=>({html:{label:z("html_label"),description:z("html_desc")},style:{label:z("style_label"),description:z("style_desc")},class:{label:z("class_label"),description:z("class_desc")}}),Ke=(m,U,re)=>m==="sm"?U:re,pn={class:{input:`font-mono bg-white p-1 ${Ke(ee,"text-sm placeholder:text-sm","text-base placeholder:text-base")}`,description:Ke(ee,"text-xs","text-sm")}},Cn={text:{component:sn,props:{...pn,type:"text",class:{input:"bg-white p-2 font-mono",description:Ke(ee,"text-xs","text-sm")}}},textarea:{component:sn,props:{...pn,type:"textarea",class:{input:"bg-white p-2 font-mono min-h-0",description:Ke(ee,"text-xs","text-sm")}}},select:{component:kt,props:{class:{input:"bg-white p-2",description:Ke(ee,"text-xs","text-sm")}}},radio:{component:nl,props:{class:{description:Ke(ee,"text-xs","text-sm")}}},checkbox:{component:vn,props:{class:{description:Ke(ee,"text-xs","text-sm")}}}},Et=(m,U,re)=>{let{component:de,props:_e}=Cn[U]||{component:null,props:{}};return _e={...re||{},..._e,...Bt()[m]||{}},_e.rows??(_e.rows=1),{component:de,props:_e}};let an;function It(m){c=m,me.set(c)}function Ot(m){f=m,ce.set(f)}function St(m){f=m,ce.set(f)}function Rt(m,U){n.$$.not_equal(u[U],m)&&(u[U]=m,ge.set(u))}function Tt(m,U){n.$$.not_equal(u[U],m)&&(u[U]=m,ge.set(u))}function jt(m,U){n.$$.not_equal(u[U],m)&&(u[U]=m,ge.set(u))}function Mt(m){n.$$.not_equal(u.hidden,m)&&(u.hidden=m,ge.set(u))}function Lt(m){r=m,Te.set(r)}function Dt(m){ue[m?"unshift":"push"](()=>{an=m,t(24,an)})}return n.$$set=m=>{"debug"in m&&t(38,b=m.debug),"class"in m&&t(1,E=m.class),"buttonBoxClass"in m&&t(2,w=m.buttonBoxClass),"fieldsetBoxClass"in m&&t(3,O=m.fieldsetBoxClass),"fieldsetDescriptionClass"in m&&t(4,S=m.fieldsetDescriptionClass),"selectInputClass"in m&&t(39,q=m.selectInputClass),"notifications"in m&&t(40,G=m.notifications),"acp"in m&&t(41,x=m.acp),"store"in m&&g(t(5,j=m.store)),"key"in m&&t(0,M=m.key),"builder"in m&&t(42,B=m.builder),"typesConfig"in m&&t(43,se=m.typesConfig),"afterEdit"in m&&t(45,L=m.afterEdit),"afterClose"in m&&t(46,le=m.afterClose),"afterRemove"in m&&t(47,W=m.afterRemove),"showButtonEdit"in m&&t(6,fe=m.showButtonEdit),"showButtonClose"in m&&t(7,ve=m.showButtonClose),"showButtonRemove"in m&&t(8,be=m.showButtonRemove),"showIsSaving"in m&&t(9,Z=m.showIsSaving),"buttonsClass"in m&&t(10,y=m.buttonsClass),"buttonsVariant"in m&&t(11,J=m.buttonsVariant),"tooltipGetAppendChildTarget"in m&&t(12,ae=m.tooltipGetAppendChildTarget),"size"in m&&t(13,ee=m.size),"t"in m&&t(14,z=m.t),"allowClassProp"in m&&t(48,N=m.allowClassProp)},n.$$.update=()=>{var m,U,re,de,_e,Nn,zn;n.$$.dirty[1]&4096&&t(20,l=[Fl,...se].sort((Fe,ze)=>{const Qe=[Fe.optgroup||"",Fe.label||Fe.value].join(" "),$e=[ze.optgroup||"",ze.label||ze.value].join(" ");return Qe.localeCompare($e)})),n.$$.dirty[0]&1048576&&t(50,i=l.reduce((Fe,ze)=>(Fe.set(ze.value,{label:ze.label||ze.value,description:ze.description,props:Ee(ze.props||[]).reduce((Qe,$e)=>(Qe.set($e.name,$e),Qe),new Map),allowInnerBlocks:(ze==null?void 0:ze.allowInnerBlocks)||{value:!0,hidden:!1}}),Fe),new Map([["html",{value:""}],["style",{value:""}]]))),n.$$.dirty[0]&1|n.$$.dirty[1]&2048&&(B==null||B.setHighlightedNodeKey(M||null)),n.$$.dirty[0]&8388608&&t(51,s=Je.factory(v.data||"",!0)),n.$$.dirty[0]&1|n.$$.dirty[1]&1048576&&t(19,o=s.find(M)),n.$$.dirty[0]&524288&&o&&(h("NODE",o.value),ie(ce,f=((m=o.value)==null?void 0:m.type)||"default",f),ie(me,c=((U=o.value)==null?void 0:U.label)||"",c),ie(ge,u=((re=o.value)==null?void 0:re.props)||{},u),ie(Te,r=!!((de=o.value)!=null&&de.allowInnerBlocks),r)),n.$$.dirty[0]&2097152&&u.hidden===void 0&&ie(ge,u.hidden=!1,u),n.$$.dirty[0]&4194304|n.$$.dirty[1]&524288&&f&&t(18,he=i.get(f)),n.$$.dirty[0]&262144&&h("typeConfig",he),n.$$.dirty[0]&524289|n.$$.dirty[1]&262144&&o&&!Ve[M]&&(h("NOT SEEN",o.value),t(49,Ve[M]=o.value.type,Ve),ie(ge,u=yn(o.value.props||{},!1),u)),n.$$.dirty[0]&7077889|n.$$.dirty[1]&262144&&o&&Ve[M]!==f&&(h(`SWITCHING TYPE FROM '${o.value.type}' TO '${f}' FOR ${M}`),t(49,Ve[M]=f,Ve),ie(ge,u=yn(u,!0),u),((_e=he==null?void 0:he.allowInnerBlocks)==null?void 0:_e.value)!==void 0&&(h("Setting 'allowInnerBlocks' from config to ",!!((Nn=he==null?void 0:he.allowInnerBlocks)!=null&&Nn.value)),ie(Te,r=!!((zn=he==null?void 0:he.allowInnerBlocks)!=null&&zn.value),r)))},[M,E,w,O,S,j,fe,ve,be,Z,y,J,ae,ee,z,Ne,Ie,Oe,he,o,l,u,f,v,an,r,c,ce,me,ge,Te,wn,Ct,Nt,zt,Ke,Cn,Et,b,q,G,x,B,se,I,L,le,W,N,Ve,i,s,It,Ot,St,Rt,Tt,jt,Mt,Lt,Dt]}class ti extends pe{constructor(e){super(),Ce(this,e,ni,xl,ke,{debug:38,class:1,buttonBoxClass:2,fieldsetBoxClass:3,fieldsetDescriptionClass:4,selectInputClass:39,notifications:40,acp:41,store:5,key:0,builder:42,typesConfig:43,setKey:44,afterEdit:45,afterClose:46,afterRemove:47,showButtonEdit:6,showButtonClose:7,showButtonRemove:8,showIsSaving:9,buttonsClass:10,buttonsVariant:11,tooltipGetAppendChildTarget:12,size:13,t:14,allowClassProp:48,close:15,openRawEditor:16,remove:17},null,[-1,-1,-1])}get setKey(){return this.$$.ctx[44]}get close(){return this.$$.ctx[15]}get openRawEditor(){return this.$$.ctx[16]}get remove(){return this.$$.ctx[17]}}De("content-builder");const li={type:"default",label:"",props:{},allowInnerBlocks:!0},ii=(n=null,e={})=>{const t=(...h)=>{var E;return(E=e.logger)==null?void 0:E.apply(null,h)};let l=new Je(new Ze({type:"__root__"}));t("initialDump",n),n&&l.restore(n);const i=un(0),s=un(""),o=un(!1),a=Gt([i,s,o],([h,E,w])=>({size:l.size(),data:l.toJSON(),error:E,isSaving:w})),r=()=>i.set(Date.now()),u=()=>Vt(a).size,f=async()=>{try{o.set(!0),s.set(""),typeof e.save=="function"&&await e.save(l.dump())}catch(h){s.set(`${h}`)}finally{o.set(!1)}},c=(h,E)=>{try{s.set("");const w=l.find(h||l.root.key);if(w)E??(E={...e.defaultNodeValue||li}),E.label||(E.label=`block #${u()}`),w.appendChild(E),r(),f();else throw new Error(`Parent node (key "${h}") not found`)}catch(w){s.set(`${w}`)}},v=h=>{try{s.set(""),l.remove(h)&&f()}catch(E){s.set(`${E}`)}},d=h=>{var E;try{s.set("");const w=l.find(h);if(!w)throw new Error(`Source node (key "${h}") not found`);l.copy(w.key,(E=w==null?void 0:w.parent)==null?void 0:E.key)&&f()}catch(w){s.set(`${w}`)}},g=(h,E,w=0)=>{var O,S;try{t("move",h,E,w),s.set(""),h===E?(O=l.find(h))==null||O.moveSiblingIndex(w):(S=l.move(h,E))==null||S.moveSiblingIndex(w),f()}catch(q){s.set(`${q}`)}},_=(h,E)=>{try{if(t("edit",h,E),s.set(""),typeof E=="string")try{E=JSON.parse(E)}catch{throw new TypeError("Invalid JSON data. Cannot edit.")}if(!E)return;const w=l.find(h);if(!w)throw new Error(`Node "${h}" not found!`);w.value=E,f()}catch(w){s.set(`${w}`)}},b=()=>{r(),f()};return{subscribe:a.subscribe,get:a.get,add:c,duplicate:d,move:g,remove:v,edit:_,resetError:()=>s.set(""),save:b,restore:h=>{l.restore(h),b()}}};function si(n){let e;return{c(){e=We("Content Builder")},m(t,l){R(t,e,l)},d(t){t&&T(e)}}}function oi(n){var _;let e,t,l,i,s,o,a,r,u,f=((_=n[14])==null?void 0:_.error)&&dt(n),c={store:n[11],disabled:fi,acp:jn,notifications:n[2],debug:!1,onNodeEditRequest:n[19],class:"p-4"};l=new Jl({props:c}),n[20](l);let v=n[14].size>1&&ct(n),d=!n[10]&&ht(),g={notifications:n[2],acp:jn,store:n[11],builder:n[8],class:"p-4",t:n[22],fieldsetBoxClass:"text-sm border-neutral-300",showButtonClose:!1,size:"sm",buttonsVariant:"flat",buttonsClass:"bg-neutral-300 py-1 px-5",typesConfig:n[15](n[13].data)};return r=new ti({props:g}),n[23](r),{c(){e=D("div"),f&&f.c(),t=A(),H(l.$$.fragment),i=A(),v&&v.c(),s=A(),o=D("div"),d&&d.c(),a=A(),H(r.$$.fragment),C(e,"class","overflow-y-auto"),C(o,"class","bg-neutral-100 overflow-y-auto")},m(b,h){R(b,e,h),f&&f.m(e,null),K(e,t),V(l,e,null),K(e,i),v&&v.m(e,null),R(b,s,h),R(b,o,h),d&&d.m(o,null),K(o,a),V(r,o,null),n[24](o),u=!0},p(b,h){var O;(O=b[14])!=null&&O.error?f?f.p(b,h):(f=dt(b),f.c(),f.m(e,t)):f&&(f.d(1),f=null);const E={};h&2048&&(E.store=b[11]),h&4&&(E.notifications=b[2]),h&1536&&(E.onNodeEditRequest=b[19]),l.$set(E),b[14].size>1?v?(v.p(b,h),h&16384&&k(v,1)):(v=ct(b),v.c(),k(v,1),v.m(e,null)):v&&(Y(),p(v,1,1,()=>{v=null}),Q()),b[10]?d&&(d.d(1),d=null):d||(d=ht(),d.c(),d.m(o,a));const w={};h&4&&(w.notifications=b[2]),h&2048&&(w.store=b[11]),h&256&&(w.builder=b[8]),h&256&&(w.t=b[22]),h&8192&&(w.typesConfig=b[15](b[13].data)),r.$set(w)},i(b){u||(k(l.$$.fragment,b),k(v),k(r.$$.fragment,b),u=!0)},o(b){p(l.$$.fragment,b),p(v),p(r.$$.fragment,b),u=!1},d(b){b&&(T(e),T(s),T(o)),f&&f.d(),n[20](null),P(l),v&&v.d(),d&&d.d(),n[23](null),P(r),n[24](null)}}}function ai(n){let e,t;return e=new Xt({}),{c(){H(e.$$.fragment)},m(l,i){V(e,l,i),t=!0},p:$,i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function dt(n){let e,t=n[14].error+"",l;return{c(){e=D("code"),l=We(t),C(e,"class","text-red-500 text-sm block")},m(i,s){R(i,e,s),K(e,l)},p(i,s){s&16384&&t!==(t=i[14].error+"")&&Xe(l,t)},d(i){i&&T(e)}}}function ct(n){let e,t,l;return t=new Pe({props:{size:"sm",type:"button",variant:"flat",class:"bg-neutral-200",$$slots:{default:[ri]},$$scope:{ctx:n}}}),t.$on("click",n[21]),{c(){e=D("div"),H(t.$$.fragment),C(e,"class","p-4 pt-0")},m(i,s){R(i,e,s),V(t,e,null),l=!0},p(i,s){const o={};s&1073741824&&(o.$$scope={dirty:s,ctx:i}),t.$set(o)},i(i){l||(k(t.$$.fragment,i),l=!0)},o(i){p(t.$$.fragment,i),l=!1},d(i){i&&T(e),P(t)}}}function ri(n){let e,t=sl({size:16})+"",l,i;return{c(){e=new Re(!1),l=A(),i=D("span"),i.textContent="Add new content block",e.a=l,C(i,"class","")},m(s,o){e.m(t,s,o),R(s,l,o),R(s,i,o)},p:$,d(s){s&&(e.d(),T(l),T(i))}}}function ht(n){let e;return{c(){e=D("div"),e.textContent="Click on the content_block to edit.",C(e,"class","p-4 text-sm opacity-50")},m(t,l){R(t,e,l)},d(t){t&&T(e)}}}function ui(n){let e,t,l,i,s,o,a,r,u;t=new _l({props:{$$slots:{default:[si]},$$scope:{ctx:n}}});const f=[ai,oi],c=[];function v(d,g){return d[13].isFetching?0:1}return s=v(n),o=c[s]=f[s](n),r=new dl({props:{onCancel:n[3],onOK:n[25],onSave:n[26]}}),{c(){e=D("div"),H(t.$$.fragment),l=A(),i=D("div"),o.c(),a=A(),H(r.$$.fragment),C(i,"class","flex-1 w-full grid grid-cols-1 sm:grid-cols-2 overflow-hidden"),C(e,"class","absolute inset-0 flex flex-col items-center justify-center")},m(d,g){R(d,e,g),V(t,e,null),K(e,l),K(e,i),c[s].m(i,null),K(e,a),V(r,e,null),u=!0},p(d,[g]){const _={};g&1073741824&&(_.$$scope={dirty:g,ctx:d}),t.$set(_);let b=s;s=v(d),s===b?c[s].p(d,g):(Y(),p(c[b],1,1,()=>{c[b]=null}),Q(),o=c[s],o?o.p(d,g):(o=c[s]=f[s](d),o.c()),k(o,1),o.m(i,null));const h={};g&8&&(h.onCancel=d[3]),g&4153&&(h.onOK=d[25]),g&4145&&(h.onSave=d[26]),r.$set(h)},i(d){u||(k(t.$$.fragment,d),k(o),k(r.$$.fragment,d),u=!0)},o(d){p(t.$$.fragment,d),p(o),p(r.$$.fragment,d),u=!1},d(d){d&&T(e),P(t),c[s].d(),P(r)}}}let fi=!1;function di(n,e,t){let l,i,s,o=$,a=()=>(o(),o=Ae(E,y=>t(12,s=y)),E),r,u=$,f=()=>(u(),u=Ae(i,y=>t(13,r=y)),i),c,v=$,d=()=>(v(),v=Ae(l,y=>t(14,c=y)),l);n.$$.on_destroy.push(()=>o()),n.$$.on_destroy.push(()=>u()),n.$$.on_destroy.push(()=>v()),De("ContentBuilder"),Ue();let{params:g}=e,{name:_}=e,{attrs:b}=e,{model:h}=e,{formData:E}=e;a();let{modalNotifs:w}=e,{modalClose:O}=e,{save:S}=e,q,G;In(()=>{t(5,G=s[_])});let x,j,M;const B=y=>`${y}`.startsWith("_")?y:`_${y}`,se=y=>(y||[]).map(J=>{var ae,ee;return{value:J.value,label:J.label,description:J.description,optgroup:J.optgroup,props:(J.props||[]).map(z=>({name:z.name,type:z.type,inputType:z.inputType,value:z.value,inputProps:z.inputProps||{}})),allowInnerBlocks:{value:!!((ae=J==null?void 0:J.allowInnerBlocks)!=null&&ae.value),hidden:!!((ee=J==null?void 0:J.allowInnerBlocks)!=null&&ee.hidden)}}}),I=async(y,J)=>(t(10,M=y),j==null||j.setKey(y),!0);function L(y){ue[y?"unshift":"push"](()=>{x=y,t(8,x)})}const le=()=>l.add(null),W=(...y)=>x==null?void 0:x.t.apply(null,y);function fe(y){ue[y?"unshift":"push"](()=>{j=y,t(9,j)})}function ve(y){ue[y?"unshift":"push"](()=>{q=y,t(7,q)})}const be=()=>{ie(E,s[_]=G,s),S({rightClose:!1}),O()},Z=()=>{ie(E,s[_]=G,s),S({rightClose:!1})};return n.$$set=y=>{"params"in y&&t(16,g=y.params),"name"in y&&t(0,_=y.name),"attrs"in y&&t(17,b=y.attrs),"model"in y&&t(18,h=y.model),"formData"in y&&a(t(1,E=y.formData)),"modalNotifs"in y&&t(2,w=y.modalNotifs),"modalClose"in y&&t(3,O=y.modalClose),"save"in y&&t(4,S=y.save)},n.$$.update=()=>{n.$$.dirty&32&&d(t(11,l=ii(G,{save:async y=>{t(5,G=y)}}))),n.$$.dirty&196608&&f(t(6,i=Ut(b.content_builder_types_config_entity||`${B(g==null?void 0:g.entity)}_content_block`,1e3))),n.$$.dirty&64&&In(()=>i.fetch())},[_,E,w,O,S,G,i,q,x,j,M,l,s,r,c,se,g,b,h,I,L,le,W,fe,ve,be,Z]}class mi extends pe{constructor(e){super(),Ce(this,e,di,ui,ke,{params:16,name:0,attrs:17,model:18,formData:1,modalNotifs:2,modalClose:3,save:4})}}export{mi as default};
