import{S as T,i as z,s as B,C as d,o as _,b as u,p as h,a as f,t as m,d as p,q as g,a4 as F,Z as V,z as b,v,w as x,E as N,g as I,c as O,A as L,k as P,l as q,e as M,n as W,H as D}from"./index-78E-VoOI.js";import{p as G,H as J,s as k,c as U,J as R,S as Y,a as Z,b as K,B as y,d as w,e as E,R as C}from"./App-D12kybME.js";import{c as Q}from"./index-DDxmGhqN.js";import{F as X,S as ee}from"./SectionBox-CLbwACDi.js";const te=(i={})=>{const{size:s,class:n,style:l,strokeWidth:t}=i||{};let a=Object.entries(i||{}).filter(([r,o])=>!/^class|size|style|strokeWidth$/.test(r)).reduce((r,[o,e])=>[...r,`${o}="${e}"`],[]).join(" ");return`<svg ${l?`style="${l}" `:""}${n?`class="${n}" `:""}width="${s||24}" height="${s||24}" stroke-width="${t??2}" ${a?`${a} `:""}viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>`};function A(i,s,n){const l=i.slice();return l[6]=s[n],l}function j(i){let s,n,l=E(i[0]),t=[];for(let r=0;r<l.length;r+=1)t[r]=H(A(i,l,r));const a=r=>m(t[r],1,1,()=>{t[r]=null});return{c(){s=b("ul");for(let r=0;r<t.length;r+=1)t[r].c();v(s,"class","mb-8")},m(r,o){u(r,s,o);for(let e=0;e<t.length;e+=1)t[e]&&t[e].m(s,null);n=!0},p(r,o){if(o&1){l=E(r[0]);let e;for(e=0;e<l.length;e+=1){const c=A(r,l,e);t[e]?(t[e].p(c,o),f(t[e],1)):(t[e]=H(c),t[e].c(),f(t[e],1),t[e].m(s,null))}for(I(),e=l.length;e<t.length;e+=1)a(e);O()}},i(r){if(!n){for(let o=0;o<l.length;o+=1)f(t[o]);n=!0}},o(r){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)m(t[o]);n=!1},d(r){r&&p(s),L(t,r)}}}function se(i){let s=i[6]+"",n;return{c(){n=P(s)},m(l,t){u(l,n,t)},p(l,t){t&1&&s!==(s=l[6]+"")&&q(n,s)},d(l){l&&p(n)}}}function le(i){let s,n=te({size:14})+"",l;return{c(){s=new D(!1),l=M(),s.a=l},m(t,a){s.m(n,t,a),u(t,l,a)},p:W,d(t){t&&(p(l),s.d())}}}function H(i){let s,n,l,t,a,r;n=new y({props:{href:C.SERVER.url(i[6]),class:"flex-1 text-ellipsis overflow-hidden",$$slots:{default:[se]},$$scope:{ctx:i}}});function o(){return i[3](i[6])}return t=new y({props:{size:"xs",variant:"flat naked",class:"px-2 bg-white/50 hover:bg-white/75",$$slots:{default:[le]},$$scope:{ctx:i}}}),t.$on("click",o),{c(){s=b("li"),_(n.$$.fragment),l=d(),_(t.$$.fragment),a=d(),v(s,"class","flex w-full space-x-2 mb-4")},m(e,c){u(e,s,c),h(n,s,null),x(s,l),h(t,s,null),x(s,a),r=!0},p(e,c){i=e;const $={};c&1&&($.href=C.SERVER.url(i[6])),c&513&&($.$$scope={dirty:c,ctx:i}),n.$set($);const S={};c&512&&(S.$$scope={dirty:c,ctx:i}),t.$set(S)},i(e){r||(f(n.$$.fragment,e),f(t.$$.fragment,e),r=!0)},o(e){m(n.$$.fragment,e),m(t.$$.fragment,e),r=!1},d(e){e&&p(s),g(n),g(t)}}}function ne(i){let s;return{c(){s=P("Add a new server")},m(n,l){u(n,s,l)},d(n){n&&p(s)}}}function ae(i){var r;let s,n,l,t,a=((r=i[0])==null?void 0:r.length)&&j(i);return l=new y({props:{size:"sm",variant:"naked flat",class:"bg-white/50 hover:bg-white/75",$$slots:{default:[ne]},$$scope:{ctx:i}}}),l.$on("click",i[4]),{c(){a&&a.c(),s=d(),n=b("div"),_(l.$$.fragment),v(n,"class","flex justify-center")},m(o,e){a&&a.m(o,e),u(o,s,e),u(o,n,e),h(l,n,null),t=!0},p(o,e){var $;($=o[0])!=null&&$.length?a?(a.p(o,e),e&1&&f(a,1)):(a=j(o),a.c(),f(a,1),a.m(s.parentNode,s)):a&&(I(),m(a,1,1,()=>{a=null}),O());const c={};e&512&&(c.$$scope={dirty:e,ctx:o}),l.$set(c)},i(o){t||(f(a),f(l.$$.fragment,o),t=!0)},o(o){m(a),m(l.$$.fragment,o),t=!1},d(o){o&&(p(s),p(n)),a&&a.d(o),g(l)}}}function re(i){let s,n,l,t,a,r,o;return s=new ee({props:{class:J,title:"Choose a server",titleLevel:1,titleRenderLevel:3,titleClass:"text-center text-stuic-primary",$$slots:{default:[ae]},$$scope:{ctx:i}}}),{c(){_(s.$$.fragment),n=d(),l=b("div"),t=b("button"),t.textContent="What is this?",v(t,"class","opacity-75 link"),v(l,"class","p-2 px-4 w-full max-w-xl flex justify-end text-xs opacity-50")},m(e,c){h(s,e,c),u(e,n,c),u(e,l,c),x(l,t),a=!0,r||(o=N(t,"click",i[1]),r=!0)},p(e,c){const $={};c&513&&($.$$scope={dirty:c,ctx:e}),s.$set($)},i(e){a||(f(s.$$.fragment,e),a=!0)},o(e){m(s.$$.fragment,e),a=!1},d(e){e&&(p(n),p(l)),g(s,e),r=!1,o()}}}function oe(i){let s,n,l;return n=new X({props:{$$slots:{default:[re]},$$scope:{ctx:i}}}),{c(){s=d(),_(n.$$.fragment),document.title="Select a server"},m(t,a){u(t,s,a),h(n,t,a),l=!0},p(t,[a]){const r={};a&513&&(r.$$scope={dirty:a,ctx:t}),n.$set(r)},i(t){l||(f(n.$$.fragment,t),l=!0)},o(t){m(n.$$.fragment,t),l=!1},d(t){t&&p(s),g(n,t)}}}function ie(i,s,n){let l;F(i,k,e=>n(0,l=e)),Q("Index");let{params:t}=s;V(G.resetHard);const a=()=>{var e;U(w)(`The official <a href="${R}" class="link" target="_blank">jay</a> client. 
			${Y("Need support?")}`,{title:`This is joy <span class="opacity-50 font-normal">(${(e=window==null?void 0:window.APP_CONFIG)==null?void 0:e.VERSION})</span>`})},r=async e=>{await Z(w)(`Server url <a href="${e}" target="_blank" 
									class="link font-semibold">${e}</a> 
									will be removed from the list.`,{title:"Are you sure?"})&&k.remove(e)},o=async()=>{const e=await K(w)(`Please provide a valid url of a 
						<a href="${R}" class="link" target="_blank">jay</a> 
						compatible server`,"http://localhost:6100/",{title:"Add a new server",promptFieldProps:{placeholder:"http://example.com",type:"url",required:!0}});e&&k.add(e)};return i.$$set=e=>{"params"in e&&n(2,t=e.params)},[l,a,t,r,o]}class $e extends T{constructor(s){super(),z(this,s,ie,oe,B,{params:2})}}export{$e as default};
